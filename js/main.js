!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){function r(){var e,t=i.getSelectedTerm();e=t?Promise.resolve(t):i.getRemoteTerms().then(function(e){var n=h.sortTerms(Object.keys(e),!0);return t=n[0]});var n=i.getScheduleIndex()||0;return e.then(function(e){return c.setCurrentSchedule(e,n)})}var i=n(1),o=n(4),s=n(5),a=n(6),c=(n(2),n(3)),l=(n(9),n(7)),u=n(8),h=n(10),f=n(11),d=n(12);n(13),React.render(React.createElement(o,null),document.getElementById("calendar")),React.render(React.createElement(s,null),document.getElementById("topsearch")),React.render(React.createElement(a,null),document.getElementById("utilities")),React.render(React.createElement(l,null),document.getElementById("term-selector")),React.render(React.createElement(u,null),document.getElementById("sidebar")),f(),d(),i.upgradeSchema(),n(14),$(function(){r()})},function(e,t,n){var r=n(36),i=n(23),o=n(15);const s=1;var a=r({getSelectedTerm:function(){return i.get("current_term")},setSelectedTerm:function(e){i.set("current_term",e)},getScheduleIndex:function(){return i.get("current_schedule_index")},getLocalTerms:function(){var e=i.get("terms")||{};if(Array.isArray(e)){var t={},n={fa14:1410981659,sp15:1414178138};e.forEach(function(e){t[e]=n[e]}),e=t,i.set("terms",t)}return e},addLocalTerm:function(e,t){i.get("terms",Object)[e]=t,i.fsync("terms")},getRemoteTerms:function(){return this.getRemoteMeta().then(function(e){return e.roster_time})},getRemoteMeta:function(){return new Promise(function(e){$.get(o.db("meta.json"),function(t){e(t)})})},upgradeSchema:function(){var e=i.get("meta_version",void 0);void 0===e?i.set("meta_version",s):s>e&&i.set("meta_version",s)}});e.exports=a},function(e,t,n){function r(){}function i(e){if(null!==d&&d.term===e)return Promise.resolve(!1);m.ready=!1,m.emit("readystatechange");var t;return t=h.getLocalTerms().hasOwnProperty(e)?Promise.resolve():s(e),t.then(function(){return d=new r,d.term=e,d.titleIndex=[],u.getByKey("title_typeahead_index",e)}).then(function(t){void 0!==t&&d.setTitleIndex(t),h.setSelectedTerm(e),m.ready=!0,m.emit("readystatechange")})}function o(){return d}function s(e,t){return t||(t=function(){}),new Promise(function(n,r){$.ajax({url:l.db("term_db_"+e+".json"),beforeSend:function(){},error:function(e,t){r(t)},success:function(i){var o=Object.create(null);u.queryObjectStore("roster",function(t){if(i.roster)for(var n=0;n<i.roster.length;n++){var r=i.roster[n];r.term=e,t.add(r),o[r.sub+r.nbr+": "+r.title]=[r.sub,r.nbr]}},"readwrite").then(function(){return u.queryObjectStore("subjects",function(t){if(i.subjects)for(var n=0;n<i.subjects.length;n++){var r=i.subjects[n];r.term=e,t.add(r)}},"readwrite")}).then(function(){var t={term:e,index:[]};for(var n in o)t.index.push({title:n,course:o[n]});return u.add("title_typeahead_index",t)}).then(function(){h.addLocalTerm(e,i.time),t(1),n(!0)}).then(null,function(e){r(e)})},dataType:"json"})})}function a(){var e=o();if(e&&e.term){var t=e.term;return h.getRemoteTerms().then(function(e){var n=h.getLocalTerms();return e[t]>n[t]?f.getJson(l.db("version_history.json")).then(function(e){var r=e.term_db[t],i=r.indexOf(n[t]);if(0>i)throw new Error("cannot find history");for(var o=r.slice(i),s=[],a=0;a<o.length-1;a++)s.push(f.getJson(l.db("diffs/diff_termdb_"+t+"_"+o[a]+"_"+o[a+1]+".json")));return Promise.all(s)}).then(function(e){return{term:t,diffs:e}}).then(null,function(e){}):!1})}return Promise.resolve(!1)}var c=n(36),l=n(15),u=n(24),h=n(1),f=n(16),d=null,p=n(25);r.prototype.getCoursesBySubjectAndNumber=function(e,t){var n;return u.queryAllByIndex("roster","course",IDBKeyRange.only([this.term,e,t])).then(function(e){return e.map(function(e){return new p(e)})}).then(function(e){return n=e,[]}).then(function(){return n})},r.prototype.searchByKeyword=function(e,t){var n,r,i=[],o=t?t:this.titleIndex,s=e.toLowerCase().split(/ /).filter(function(e){return e.length>0});for(n=0;n<o.length;n++){var a=o[n].titleLower,c=[],l=[0,-1],u=0,h=!0;for(r=0;r<s.length;r++){var f=s[r],d=a.indexOf(f,u);if(0>d){h=!1;break}l[1]==d?l[1]=d+f.length:(l=[d,d+f.length],c.push(l)),u=d+f.length}if(h){var p=t?o[n]:$.extend({},o[n]);p.segments=c,i.push(p)}}return i.sort(function(e,t){return e.segments[0][0]-t.segments[0][0]||e.title.localeCompare(t.title)}),i},r.prototype.setTitleIndex=function(e){this.titleIndex=[],e.index.forEach(function(e){e.titleLower=e.title.toLowerCase(),this.titleIndex.push(e)},this)},r.prototype.applyUpdates=function(e){var t=this;if(e.term!=this.term)return Promise.resolve(!1);var n=e.term;this.titleIndex=[];for(var r=u.delete("title_typeahead_index",n),i=0;i<e.diffs.length;i++)!function(e){if(e.roster&&(r=r.then(function(){var t=e.roster;return u.queryObjectStore("roster",function(e){var r;if(t.added)for(r=0;r<t.added.length;r++)t.added[r].term=n,e.add(t.added[r]);if(t.deleted)for(r=0;r<t.deleted.length;r++)e.delete(t.deleted[r]);if(t.modified)for(r=0;r<t.modified.length;r++)t.modified[r].term=n,e.put(t.modified[r])},"readwrite")})),e.subjects){var t=e.subjects;r=r.then(function(){function e(e){var t=Object.create(null);return e&&e.forEach(function(e){t[e.sub]=e}),t}var r=e(t.modified),i=Object.create(null);return t.deleted&&t.deleted.forEach(function(e){i[e]=!0}),u.queryObjectStore("subjects",function(e){var o=e.index("term");if(o.openCursor(IDBKeyRange.only(n)).onsuccess=function(e){var t=e.target.result;t&&(r[t.value.sub]?(r[t.value.sub].term=n,t.update(r[t.value.sub])):i[t.value.sub]&&t.delete(),t.continue())},t.added)for(var s=0;s<t.added.length;s++)t.added[s].term=n,e.add(t.added[s])},"readwrite")})}r=r.then(function(){h.addLocalTerm(n,e.time)})}(e.diffs[i]);var o=Object.create(null),s={term:n,index:[]};return r=r.then(function(){return u.queryObjectStore("roster",function(e){e.index("term").openCursor(IDBKeyRange.only(n)).onsuccess=function(e){var t=e.target.result;if(t){var n=t.value.sub+t.value.nbr;o[n]||(o[n]={title:t.value.sub+t.value.nbr+": "+t.value.title,course:[t.value.sub,t.value.nbr]}),t.continue()}}})}).then(function(){for(var e in o)s.index.push(o[e]);return u.add("title_typeahead_index",s)}).then(function(){t.setTitleIndex(s)}).then(null,function(e){})};var m=new c({ready:!1,setCurrentTerm:i,getCurrentTerm:o,loadTerm:s,checkForUpdates:function(){var e=this;a().then(function(t){t!==!1&&e.emit("updateAvailable",t)})}});e.exports=m},function(e,t,n){function r(){this.colorMapping={},this.basket=[],this.sections=[],this.hidden={},this.color="#979797",this.name="My Schedule",this.uniqueId=Math.floor(4294967295*Math.random()),this._conflictCache=null}var i=n(36),o=n(17),s=n(26),a=n(2),c=(n(24),n(23)),l=n(18),u=n(27),h=i({ready:!1,setCurrentSchedule:function(e,t){var n=this;if(this.currentSchedule){if(!(void 0!==e&&this.currentSchedule.term!==e||void 0!==t&&this.currentSchedule.index!==t))return Promise.resolve(!1);n.ready=!1,n.emit("readystatechange")}void 0===e&&(e=this.currentSchedule.term),void 0===t&&(t=0);var i,o=!1;return void 0===e||a.getCurrentTerm()&&a.getCurrentTerm().term==e?i=Promise.resolve():(i=a.setCurrentTerm(e),o=!0),i.then(function(){return n.currentSchedule=new r,n.currentSchedule.term=e,n.currentSchedule.index=t,n.currentSchedule.load()}).then(function(){n.ready=!0,n.emit("readystatechange"),o&&a.checkForUpdates()})},getCurrentSchedule:function(){return this.currentSchedule},getNewScheduleNameAndColor:function(){var e=this.getCurrentSchedule(),t=e.term+"_schedules",n=(c.get(t,Array),Object.create(null)),r=Object.create(null);this.getAllSchedules().forEach(function(e){n[e.name]=!0,r[e.color]=!0});for(var i,o=1;;){if(i="Schedule ("+o+")",!n[i])break;o++}for(var s,a=1/8,u=0;;){if(s=l.hsvToHex(u,.25,.54),!r[s])break;u+=a,u>=1&&(a/=2,u=a)}return{name:i,color:s}},withStorageList:function(e,t){void 0===t&&(t=null);var n=this.getCurrentSchedule(),r=n.term+"_schedules",i=c.get(r,Array),o=e.call(t,i);return c.fsync(r),o.emit&&this.emit(o.emit),o.value?o.value:void 0},renameSchedule:function(e,t){this.withStorageList(function(n){return n[e].name=t,{emit:"listchange"}})},deleteSchedule:function(e){this.withStorageList(function(t){var n=this.getCurrentSchedule();if(n.index===e)throw new Error;return t.splice(e,1),e<n.index&&n.index--,{emit:"listchange"}},this)},addSchedule:function(e,t){var n=this.getCurrentSchedule(),r=n.term+"_schedules",i=c.get(r,Array);i.push({color:t,name:e,uniqueId:Math.floor(4294967295*Math.random())}),c.fsync(r),this.emit("listchange")},getAllSchedules:function(){var e=this.getCurrentSchedule();if(!e)return null;var t=e.term+"_schedules",n=c.get(t,Array),r=n.map(function(t,n){return{color:t.color,name:t.name,isCurrent:n===e.index,uniqueId:t.uniqueId}});return r}}),f=["lavender","blue","cyan","applegreen","beryl","green","pink","purple","yellow","pearl"];r.prototype.setVisibility=function(e,t){this.hidden[e]=!t,this.persistSections(),this._onChange()},r.prototype.toggleVisibility=function(e){this.setVisibility(e,!this.getVisibility(e)),u.sevent("course","toggle_visibility",e)},r.prototype.getVisibility=function(e){return!this.hidden[e]},r.prototype.getVisibleClusters=function(){return this.basket.filter(function(e){return!this.hidden[e[0].getNumber()]},this)},r.prototype.getVisibleMeetings=function(){var e=[];return this.getVisibleSections().forEach(function(t){e.push.apply(e,t.meetings)}),e},r.prototype._onChange=function(){this._conflictCache=null,h.emit("change")},r.prototype.findCourseInBasketById=function(e){for(var t=0;t<this.basket.length;t++)for(var n=0;n<this.basket[t].length;n++)if(this.basket[t][n].id==e)return this.basket[t][n];return null},r.prototype.findSectionInBasketByNumber=function(e){for(var t=0;t<this.basket.length;t++)for(var n=0;n<this.basket[t].length;n++){var r=this.basket[t][n].findSectionByNumber(e);if(r)return r}return null},r.prototype.removeCourseByNumber=function(e){for(var t=0;t<this.basket.length;t++)if(this.basket[t].length&&this.basket[t][0].getNumber()==e){this.basket.splice(t,1);break}this.sections=this.sections.filter(function(t){return t.parent.getNumber()!==e}),delete this.hidden[e],delete this.colorMapping[e],this.persistSections(),this._onChange()},r.prototype.changeSection=function(e,t){var n,r;if(void 0===t){if(n=this.findSectionInBasketByNumber(e),!n)return!1;var i=n.parent.sections[n.type];for(r=0;r<this.sections.length&&!(i.indexOf(this.sections[r])>-1);r++);if(r===this.sections.length){var o=null,s=this.getSelectedCourseIdsHash();e:for(var a=0;a<this.basket.length;a++)if(this.basket[a].indexOf(n.parent)>-1)for(var c=0;c<this.basket[a].length;c++)if(s[this.basket[a][c].id]){o=this.basket[a][c];break e}if(!o)return!1;for(this._changeCourse(n.parent,o),r=0;r<this.sections.length&&(this.sections[r].parent!=n.parent||this.sections[r].type!=n.type);r++);if(r==this.sections.length)return!1}}else{for(r=0;r<this.sections.length&&this.sections[r].number!=t;r++);if(r===this.sections.length)return!1;var l=this.sections[r];if(n=this.sections[r].parent.findSectionByNumber(e),!n){if(n=this.findSectionInBasketByNumber(e),!n)return!1;for(this._changeCourse(n.parent,l.parent),r=0;r<this.sections.length&&(this.sections[r].parent!=n.parent||this.sections[r].type!=n.type);r++);if(r===this.sections.length)return!1}}return this.sections[r]=n,this.persistSections(),this._onChange(),!0},r.prototype.changeCourse=function(e,t){this._changeCourse(e,t),this.persistSections(),this._onChange()},r.prototype._changeCourse=function(e,t){var n,r;if(isNaN(e)||(e=this.findCourseInBasketById(e)),void 0===t){var i=this.getSelectedCourseIdsHash();e:for(n=0;n<this.basket.length;n++)if(this.basket[n].indexOf(e)>-1)for(r=0;r<this.basket[n].length;r++)if(i[this.basket[n][r].id]){t=this.basket[n][r];break e}if(void 0===t)return!1}else isNaN(t)||(t=this.findCourseInBasketById(t));var o=Object.create(null),s=this.sections.filter(function(e){return e.parent==t?(o[e.type]=e,!1):!0});for(var a in e.sections)if(e.sections.hasOwnProperty(a)){var c=o[a];if(c){var l=!1;if(c.meetings.length>0)for(n=0;n<e.sections[a].length;n++){var u=e.sections[a][n];if(u.meetings.length>0&&u.meetings[0].startTime==c.meetings[0].startTime&&u.meetings[0].pattern==c.meetings[0].pattern){l=!0,s.push(u);break}}l||s.push(e.sections[a][0])}else s.push(e.sections[a][0])}this.sections=s},r.prototype.addCluster=function(e){if(0===e.length)throw new Error("This class does not exist");this.basket.push(e);for(var t in e[0].sections)e[0].sections.hasOwnProperty(t)&&this.sections.push(e[0].sections[t][0]);this.colorMapping[e[0].getNumber()]=function(){for(var e=0;e<f.length;e++){l=f[e],found=!1;for(var t in this.colorMapping)if(this.colorMapping[t]==l){found=!0;break}if(!found)return l}return f[Math.floor(Math.random()*f.length)]}.call(this)},r.prototype.addCourse=function(e,t){for(var n,r=this,i=0;i<this.basket.length;i++)if(this.basket[i][0].subject==e&&this.basket[i][0].number==t){n=this.basket[i];break}return n?Promise.resolve(!1):a.getCurrentTerm().getCoursesBySubjectAndNumber(e,t).then(function(n){return r.addCluster(n),r.persistSections(),r._onChange(),u.sevent("course","add",e+" "+t),!0})},r.prototype.getStoreKey=function(){return this.term+"_schedules"},r.prototype.getColorForCourse=function(e,t){return this.colorMapping[e+" "+t]},r.prototype.serializeSections=function(){return this.sections.map(function(e){return e.number})},r.prototype.serializeBasket=function(){return this.basket.map(function(e){return e[0].subject+" "+e[0].number})},r.prototype.persistSections=function(){void 0===c.get(this.getStoreKey(),Array)[this.index]&&(c.get(this.getStoreKey(),Array)[this.index]={});var e=c.get(this.getStoreKey())[this.index];e.sections=this.serializeSections(),e.basket=this.serializeBasket(),e.colorMapping=$.extend({},this.colorMapping),e.hidden=$.extend({},this.hidden),e.color=this.color,e.name=this.name,e.uniqueId=this.uniqueId,c.fsync(this.getStoreKey())},r.prototype.getAlternateMeetings=function(e,t){function n(t){return t.pattern==e.pattern&&t.startTime==e.startTime&&t.endTime==e.endTime}void 0===t&&(t="difftime");var r=[],i=e.parent.parent,o=e.parent.type,s=null;if(o===i.getPrimarySectionType())for(var a=0;a<this.basket.length;a++){var c=this.basket[a];if(c[0].subject==i.subject&&c[0].number==i.number){s=c;break}}return e.parent.parent.sections[o].forEach(function(i){i!=e.parent&&i.meetings.some(n)==("sametime"==t)&&r.push.apply(r,i.meetings)}),s&&s.length>1&&s.forEach(function(e){e!=i&&e.sections[o].forEach(function(e){e.meetings.some(n)==("sametime"==t)&&r.push.apply(r,e.meetings)})}),r},r.prototype.setSectionsWithClassNumbers=function(e){var t=this.basket,n={},r={};t.forEach(function(e){n[e[0].getNumber()]={}}),this.sections=e.map(function(e){for(var i=0;i<t.length;i++)for(var o=0;o<t[i].length;o++){var s=t[i][o].findSectionByNumber(e);if(s){var a=t[i][o].getNumber();return n[a].hasOwnProperty(s.type)||r[a]&&r[a].id!==t[i][o].id?null:(n[a][s.type]=!0,r[a]=t[i][o],s)}}return null}).filter(function(e){return null!==e}),this._onChange()},r.prototype.load=function(){var e=this,t=c.get(this.getStoreKey(),Array)[this.index];return void 0===t?(this.basket=[],this.sections=[],Promise.resolve(!1)):(this.colorMapping=t.colorMapping||{},this.hidden=t.hidden||{},t.color&&(this.color=t.color),t.name&&(this.name=t.name),t.uniqueId&&(this.uniqueId=t.uniqueId),Promise.resolve().then(function(){var e=t.basket?t.basket.slice():[];return Promise.all(e.map(function(e){var t=e.split(" ");return 2!=t.length?null:a.getCurrentTerm().getCoursesBySubjectAndNumber(t[0],+t[1])}))}).then(function(n){n=n.filter(function(e){return Array.isArray(e)&&e.length>0}),e.basket=n;var r={},i={};n.forEach(function(e){r[e[0].getNumber()]={}});var o=t.sections||[];return e.sections=o.map(function(e){for(var t=0;t<n.length;t++)for(var o=0;o<n[t].length;o++){var s=n[t][o].findSectionByNumber(e);if(s){var a=n[t][o].getNumber();return r[a].hasOwnProperty(s.type)||i[a]&&i[a].id!==n[t][o].id?null:(r[a][s.type]=!0,i[a]=n[t][o],s)}}return null}).filter(function(e){return null!==e}),n.forEach(function(t){var n,o=t[0].getNumber(),s={};i[o]?(n=i[o],s=r[o]):n=t[0];for(var a in n.sections)n.sections.hasOwnProperty(a)&&(s.hasOwnProperty(a)||e.sections.push(n.sections[a][0]))}),e.persistSections(),!0}))},r.prototype.termDBUpdated=function(){var e=this;return this.persistSections(),this.load().then(function(){e._onChange()})},r.prototype.getSelectedCourseIdsHash=function(){var e=Object.create(null);return this.sections.forEach(function(t){e[t.parent.id]=!0}),e},r.prototype.getSelectedSectionIdsHash=function(){var e=Object.create(null);return this.sections.forEach(function(t){e[t.number]=!0}),e},r.prototype.getVisibleSections=function(){return this.sections.filter(function(e){return!this.hidden[e.parent.getNumber()]},this)},r.prototype.getConflictIntervals=function(){if(null===this._conflictCache){for(var e=[],t=this.getVisibleSections(),n=0;n<t.length;n++)for(var r=0;n>r;r++)e.push.apply(e,s.conflictIntervals(t[n].meetings,t[r].meetings));this._conflictCache=s.normalizeIntervals(e)}return this._conflictCache},r.prototype.getBasicInfo=function(){var e=this.getVisibleSections(),t=[];e.forEach(function(e){for(var n=0;n<t.length;n++)if(t[n]===e.parent)return;t.push(e.parent)});var n=[0,0],r=0;return t.forEach(function(e){n[0]+=e.units[0],n[1]+=e.units.length>1?e.units[1]:e.units[0]}),e.forEach(function(e){e.meetings.forEach(function(e){e.startTime&&e.endTime&&(r+=o.bitmaskToDay(e.pattern).length*(o.timeStringToHour(e.endTime)-o.timeStringToHour(e.startTime)))})}),{units:n,classes:t.length,hours:r}},e.exports=h},function(e,t,n){var r=n(19),i=n(20),o=n(21),s=n(3),a=n(17),c=React.createClass({displayName:"DropoffSet",getInitialState:function(){return{dropoffs:[]}},render:function(){var e=[];return this.state.dropoffs.forEach(function(t){e.push(i(t))}),React.createElement("div",null,e)}}),l=React.createClass({displayName:"Calendar",minTime:8,maxTime:22,getMeetingContainer:function(){return this.refs.container.getDOMNode()},getInitialState:function(){return{meetings:[],dropoffs:[],conflicts:[],needWeekend:!1}},componentDidMount:function(){s.on("change",this._onScheduleChange),s.on("readystatechange",this._onScheduleReadyStateChange)},componentWillUnmount:function(){s.off("change",this._onScheduleChange),s.off("readystatechange",this._onScheduleReadyStateChange)},_onScheduleReadyStateChange:function(){s.ready&&this._onScheduleChange()},_onScheduleChange:function(){this.setSchedule(s.getCurrentSchedule())},_onDragStartHandler:function(e){var t=s.getCurrentSchedule().getAlternateMeetings(e);if(t){var n=this._splitMeetings(t);n.forEach(function(e){e.times=e.meeting.parent.meetings.map(function(e){return a.bitmaskToDay(e.pattern)+" "+e.startTime+"–"+e.endTime})}),this.refs.dropoffset.setState({dropoffs:n})}},_onDragStopHandler:function(){this.refs.dropoffset.setState({dropoffs:[]})},_splitMeetings:function(e){var t=[],n="MTWRFSU";return e.forEach(function(e){if(e.startTime&&e.endTime){var r=a.timeStringToHour(e.startTime),i=a.timeStringToHour(e.endTime)-r,o=e.startTime+" – "+e.endTime,s=e.building;e.room&&(s+=" "+e.room);for(var c=e.parent.parent.subject+" "+e.parent.parent.number,l=0;7>l;l++)e.pattern&1<<l&&t.push({key:e.parent.number+"-"+l,nbr:e.parent.number,title:c,location:s,time:o,day:n[l],st_offset:r-8,length:i,meeting:e})}},this),t},setSchedule:function(e){var t=e.getVisibleMeetings(),n=this._splitMeetings(t);n.forEach(function(t){t.color=e.getColorForCourse(t.meeting.parent.parent.subject,t.meeting.parent.parent.number),t.dragStartHandler=this._onDragStartHandler.bind(this,t.meeting),t.dragStopHandler=this._onDragStopHandler.bind(this,t.meeting)},this);var r=e.getVisibleClusters().some(function(e){return e.some(function(e){return e.getAllSections().some(function(e){return e.meetings.some(function(e){return 96&e.pattern})})})});this.setState({meetings:n,conflicts:e.getConflictIntervals(),needWeekend:r})},render:function(){for(var e=[],t=this.minTime,n=this.maxTime,i=t;n>=i;i++){var s=i>=12?"p":"a",l=i>12?i-12:i,u=""+l+":00"+s,h="cal-stripe";h+=(i-t)%2===0?" odd":" even",e.push(React.createElement("div",{className:h,key:i},React.createElement("div",{className:"cal-time"},u)))}var f=[];this.state.meetings.forEach(function(e){f.push(r(e))});var d=this.state.needWeekend,p=this.state.conflicts.map(function(e){return React.createElement(o,{key:e.startTimeHrs.toFixed(1)+"-"+e.pattern,day:a.bitmaskToDay(e.pattern),st_offset:e.startTimeHrs-this.minTime,length:e.endTimeHrs-e.startTimeHrs})},this);return React.createElement("div",{className:"cal-inner",ref:"container"},React.createElement("div",{className:"cal-meetings"},React.createElement("div",{className:"cal-meetings-inner"+(d?" cal-meetings-inner-fullweek":"")},f,React.createElement(c,{ref:"dropoffset"}),React.createElement("div",{id:"conflict-overlay"},p))),React.createElement("div",{className:"cal-stripes"},e))}});e.exports=l},function(e,t,n){var r=n(2),i=n(3),o=React.createClass({displayName:"SearchBar",componentWillMount:function(){i.on("readystatechange",this.termDBReadyStateChange)},componentDidUnmount:function(){i.off("readystatechange",this.termDBReadyStateChange)},termDBReadyStateChange:function(){this.setState({available:i.ready})},getInitialState:function(){return{available:i.ready}},renderItem:function(e,t){for(var n=$("<li />"),r=$("<p />"),i=0;i<t.segments.length;i++)r.append(document.createTextNode(t.title.slice(0===i?0:t.segments[i-1][1],t.segments[i][0]))),r.append($("<em />").text(t.title.slice(t.segments[i][0],t.segments[i][1])));return t.segments.length>0&&r.append(document.createTextNode(t.title.slice(t.segments[t.segments.length-1][1]))),n.append(r),e.append(n),n},dataSource:function(e,t){var n=r.getCurrentTerm();n&&t(n.searchByKeyword(e.term))},componentDidMount:function(){$(this.getDOMNode()).autocomplete({minLength:2,source:this.dataSource,select:function(e,t){i.getCurrentSchedule().addCourse(t.item.course[0],t.item.course[1])}}).autocomplete("instance")._renderItem=this.renderItem},render:function(){return React.createElement("input",{type:"text",autoComplete:"off",disabled:!this.state.available,placeholder:this.state.available?"Search for Class (e.g. CS3110; Intro to Photography)":"Loading Available Classes..."})}});e.exports=o},function(e,t,n){var r=n(28),i=n(29),o=n(30),s=n(31),a=React.createClass({displayName:"Sidebar",render:function(){return React.createElement("div",null,React.createElement(r,null),React.createElement(i,null),React.createElement(s,null),React.createElement(o,null))}});e.exports=a},function(e,t,n){var r=n(40),i=n(1),o=n(2),s=n(3),a=n(10),c=React.createClass({displayName:"TermList",getInitialState:function(){return{remoteTerms:null,localTerms:[]}},componentWillMount:function(){var e=this;i.getRemoteTerms().then(function(t){e.setState({remoteTerms:Object.keys(t),localTerms:Object.keys(i.getLocalTerms())})})},render:function(){var e,t=this.state.localTerms||[],n=a.sortTerms(this.state.remoteTerms||this.state.localTerms||[]);return e=0===n.length?React.createElement("li",{className:"loading"},"Loading Terms..."):n.map(function(e){t.indexOf(e)>-1;return React.createElement("li",{className:"clickable menuitem",onClick:this.props.clickHandler.bind(null,e),key:e},a.getTermName(e))},this),React.createElement("div",{className:"menu",ref:"menu"},React.createElement("ul",null,e))}}),l=React.createClass({displayName:"TermSelector",getInitialState:function(){return{currentTerm:null,ready:!1}},componentWillMount:function(){o.on("readystatechange",this.termDBReadyStateChange)},componentDidUnmount:function(){o.off("readystatechange",this.termDBReadyStateChange)},termDBReadyStateChange:function(){this.setState({currentTerm:o.getCurrentTerm(),ready:o.ready})},componentDidMount:function(){var e=React.createElement(c,{clickHandler:this._click});this.menu=new r({target:this.refs.selector.getDOMNode(),content:e,position:"bottom center",openOn:"click",constrainToWindow:!0,tetherOptions:{constraints:[{to:"scrollParent",pin:!0}]}})},_click:function(e){s.setCurrentSchedule(e),this.menu.close()},render:function(){var e="Semester";return this.state.currentTerm&&(e=a.getTermName(this.state.currentTerm.term),this.state.ready||(e+="...")),React.createElement("div",null,React.createElement("span",{ref:"selector",className:"clickable"},e," ▾"))}});e.exports=l},function(e,t,n){var r=n(3),i=React.createClass({displayName:"ScheduleIcon",render:function(){var e=this.props.color,t=this.props.fill?e:"transparent";return React.createElement("svg",{className:"schedule-logo",width:"17",height:"17",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},React.createElement("rect",{x:"0.5",y:"0.5",width:"16",height:"4",fill:t,stroke:e,"stroke-width":"1"}),React.createElement("rect",{x:"0.5",y:"6.5",width:"7",height:"4",fill:t,stroke:e,"stroke-width":"1"}),React.createElement("rect",{x:"0.5",y:"12.5",width:"7",height:"4",fill:t,stroke:e,"stroke-width":"1"}),React.createElement("rect",{x:"9.5",y:"6.5",width:"7",height:"4",fill:t,stroke:e,"stroke-width":"1"}),React.createElement("rect",{x:"9.5",y:"12.5",width:"7",height:"4",fill:t,stroke:e,"stroke-width":"1"}))}}),o=React.createClass({displayName:"ScheduleLine",getInitialState:function(){return{name:this.props.name,editing:!!this.props.editing}},_onInputChange:function(e){this.setState({name:e.target.value})},_onSave:function(){this.props.onSave(this.state.name,this.props.color),this.setState({editing:!1})},_onEdit:function(e){this.setState({editing:!0},this._focusIfNeeded),e.stopPropagation()},_onDelete:function(){this.props.onDelete()},_onClick:function(){this.props.onClick()},_onKeyUp:function(e){13==e.keyCode&&this._onSave()},_focusIfNeeded:function(){if(this.state.editing){var e=this.refs.input.getDOMNode();e.focus(),e.select()}},componentDidMount:function(){this._focusIfNeeded()},render:function(){var e;e=this.state.editing?React.createElement("input",{type:"text",value:this.state.name,onKeyUp:this._onKeyUp,onChange:this._onInputChange,ref:"input"}):this.state.name;var t=[];return!this.state.editing||this.props.isCurrent||this.props.editing||t.push(React.createElement("div",{onClick:this._onDelete,className:"glyphicon glyphicon-trash clickable"})),t.push(React.createElement("div",{onClick:this.state.editing?this._onSave:this._onEdit,className:(this.state.editing?"glyphicon-floppy-disk":"glyphicon-pencil")+" glyphicon clickable"})),React.createElement("li",{onClick:this.state.editing?null:this._onClick,className:this.state.editing?"":"clickable"},React.createElement(i,{color:this.props.color,fill:this.props.isCurrent}),React.createElement("div",{className:"schedule-listing-content"},e),React.createElement("div",{className:"schedule-listing-edit-opts"},t))}}),s=React.createClass({displayName:"LeftBar",_onHover:function(){$("#main-container").addClass("schedules-open")},_onOut:function(){$("#main-container").removeClass("schedules-open")},getInitialState:function(){return{schedules:null,creating:!1}},componentDidMount:function(){var e=function(){r.ready&&this.setState({schedules:r.getAllSchedules()})}.bind(this);r.on("readystatechange",e),r.on("listchange",e)},_addSchedule:function(){this.setState({creating:!0})},_saveNewSchedule:function(e,t){r.addSchedule(e,t),this.setState({creating:!1})},_saveExistingSchedule:function(e,t){r.renameSchedule(e,t)},_onClick:function(e){r.setCurrentSchedule(void 0,e)},_onDelete:function(e){r.deleteSchedule(e)},render:function(){var e=[],t=this.state.schedules;if(t)if(e=t.map(function(e,t){return React.createElement(o,{name:e.name,color:e.color,isCurrent:e.isCurrent,editing:!1,onSave:this._saveExistingSchedule.bind(null,t),onClick:this._onClick.bind(null,t),onDelete:this._onDelete.bind(null,t),key:e.uniqueId})},this),this.state.creating){var n=r.getNewScheduleNameAndColor();e.push(React.createElement(o,{name:n.name,color:n.color,isCurrent:!1,editing:!0,onSave:this._saveNewSchedule,key:"new-edit"}))}else e.push(React.createElement("li",{onClick:this._addSchedule,className:"clickable",key:"new"},React.createElement("div",{className:"schedule-logo add"}),React.createElement("div",{className:"schedule-listing-content"},"Add a Schedule")));return React.createElement("div",{id:"sidebar-inner",onMouseOver:this._onHover,onMouseOut:this._onOut},React.createElement("h3",null,"MY SCHEDULES"),React.createElement("ul",{className:"schedule-listing"},e))}});e.exports=s},function(e,t,n){function r(e){e.forEach(function(e){e.forEach(function(e){e.forEach(function(e){e.forEach(function(e){})})})})}function i(e){return{number:e.number,meetings:e.meetings.map(function(e){return{startTimeHrs:e.startTimeHrs,endTimeHrs:e.endTimeHrs,pattern:e.pattern}})}}function o(){var e=C.getCurrentSchedule();return e.basket.filter(function(t){return e.getVisibility(t[0].getNumber())}).map(function(e){var t=e.map(function(e){var t=[];for(var n in e.sections)e.sections.hasOwnProperty(n)&&t.push(e.sections[n].map(i));return t});return t.name=e[0].getNumber(),t})}function s(e){H=e.lateStart,P=e.earlyEnd,j=e.noFriday,A=e.lunchBreak;var t=(performance.now(),o()),n=[],r={};C.getCurrentSchedule().sections.forEach(function(e){r[e.number]=!0}),v(t,r),w(t);for(var i=0;b(t,n);)if(S(t,n,i),i=n.length,w(t))return;var s=m(t,n);s&&a(s)}function a(e){var t=C.getCurrentSchedule();t.sections=e,t.setSectionsWithClassNumbers(e)}function c(e,t,n){for(var r=0;r<e.length;r++)for(var i=e[r],o=0;o<i.meetings.length;o++){var s=i.meetings[o];if(void 0!==s.startTimeHrs&&void 0!==s.endTimeHrs)for(var a=0;5>a;a++)s.pattern&1<<a&&(t[a]=void 0===t[a]?s.startTimeHrs:Math.min(s.startTimeHrs,t[a]),n[a]=void 0===n[a]?s.endTimeHrs:Math.max(n[a],s.endTimeHrs))}}function l(e,t){for(var n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.meetings.length;i++){var o=r.meetings[i];if(void 0!==o.startTimeHrs&&void 0!==o.endTimeHrs&&o.endTimeHrs>x&&o.startTimeHrs<N)for(var s=0;5>s;s++)o.pattern&1<<s&&t[s].push(o)}for(var s=0;5>s;s++)t[s].sort(function(e,t){return e.startTimeHrs-t.startTimeHrs})}function u(e,t,n,r,i){return t>=e?r:e>=n?i:(e-t)/(n-t)*(i-r)+r}function h(e,t,n,r){var i=t.slice(0),o=n.slice(0),s=r.map(function(e){return e.slice(0)});c(e,i,o),l(e,s);for(var a=0,h=0,f=0;5>f;f++)a+=void 0===i[f]?.2:u(i[f],E,R,0,.2),h+=void 0===o[f]?.2:u(o[f],_,T,.2,0);var d;d=void 0===i[4]&&void 0===o[4]?1:o[4]-i[4]<=I?M:0;for(var p=0,f=0;5>f;f++){var m=0;if(0===s[f].length)p+=.2;else{s[f][0].startTimeHrs>x&&s[f].unshift({endTimeHrs:x}),s[f][s[f].length-1].endTimeHrs<N&&s[f].push({startTimeHrs:N});for(var g=0;g<s[f].length-1;g++)m=Math.max(m,s[f][g+1].startTimeHrs-s[f][g].endTimeHrs);m>k&&(p+=u(m,k,O,.12,.2))}}var v=a*H+h*P+d*j+p*A;return v}function f(){var e=C.getCurrentSchedule(),t=e.getVisibleSections().map(i);return h(t,new Array(5),new Array(5),[[],[],[],[],[]])}function d(e,t,n,r,i){for(var o,s,a=function(e){return Math.floor(Math.random()*e)},c=e.map(function(e){return e.length>1?e:e.map(function(e){return e.filter(function(e){return e.length>1})}).filter(function(e){return e.length>0})}).filter(function(e){return e.length>0}),l=c.map(function(e){return Math.floor(Math.random()*e.length)}),u=function(e){return e.map(function(e){return Math.floor(Math.random()*e.length)})},f=l.map(function(e,t){return u(c[t][e])}),d=function(e,t){for(var n=[],r=0;r<e.length;r++)for(var i=0;i<t[r].length;i++)n.push(c[r][e[r]][i][t[r][i]]);return n},p=function(){var e=d(l,f);return g(e)?-1:h(e,n,r,i)},m=1e4,v=-.02,b=p(),y=0;m>0;){var w=a(c.length),S=a(c[w].length);if(S!==l[w]){var C=f[w],E=l[w];l[w]=S,f[w]=u(c[w][S])}else{var R=a(c[w][S].length),_=f[w][R],E=void 0,T=a(c[w][S][R].length);if(T===_)continue;f[w][R]=T}var x=p();b>=x&&Math.random()>Math.exp((x-b)/m)?void 0===E?f[w][R]=_:(l[w]=E,f[w]=C):(b=x,b>y&&(y=b,o=l.slice(0),s=f.map(function(e){return e.slice(0)}))),m+=v}return 0>y?null:d(o,s).map(function(e){return e.number})}function p(e,t,n,r,i){function o(e){if(e>=a.length)g(c)||l.push({sections:c.map(function(e){return e.number}),score:h(c,n,r,i)});else{for(var t=!1,s=0;s<a[e].length;s++)a[e][s].fixed||(t=!0,c.push(a[e][s]),o(e+1),c.pop());
t||o(e+1)}}function s(t){if(t>=e.length)o(0);else for(var n=a.length,r=0;r<e[t].length;r++)a.push.apply(a,e[t][r]),s(t+1),a.length=n}var a=[],c=[],l=[];if(s(0),0===l.length)return null;var u,f=0;l.forEach(function(e){e.score>f&&(f=e.score,u=e.sections)});var d=t.map(function(e){return e.number});return Array.prototype.push.apply(u,d),u}function m(e,t){var n=new Array(5),r=new Array(5);c(t,n,r);var i=[[],[],[],[],[]];l(t,i);var o=e.reduce(function(e,t){var n=0;return t.forEach(function(e){n+=e.reduce(function(e,t){return e*t.length},1)}),e*n},1);if(1e4>o)return p(e,t,n,r,i);var s=d(e,t,n,r,i);return t.forEach(function(e){s.push(e.number)}),s}function g(e){for(var t=0;t<e.length;t++)for(var n=t+1;n<e.length;n++)if(y(e[t],e[n]))return!0;return!1}function v(e,t){e.forEach(function(e){e.forEach(function(e){e.forEach(function(e,n,r){r[n]=e.filter(function(e){return t[e.section]||e.meetings.every(function(e){return void 0!==e.startTimeHrs})})})})})}function b(e,t){var n=!1;return e.forEach(function(e){1==e.length&&e[0].forEach(function(e){1!=e.length||e[0].fixed||(t.push(e[0]),e[0].fixed=!0,n=!0)})}),n}function y(e,t){for(var n=e.meetings,r=t.meetings,i=0;i<n.length;i++){var o=n[i];if(void 0!==o.startTimeHrs)for(var s=0;s<r.length;s++){var a=r[s];if(void 0!==a.startTimeHrs&&o.pattern&a.pattern&&o.endTimeHrs>a.startTimeHrs&&o.startTimeHrs<a.endTimeHrs)return!0}}return!1}function w(e){for(var t=e.length,n=0;t>n;n++){for(var r=e[n],i=0;i<r.length;){for(var o=!1,s=r[i],a=0;a<s.length;a++){var c=s[a];if(0==c.length){o=!0;break}}o?r.splice(i,1):i++}if(0==r.length)return!0}return!1}function S(e,t){for(var n=e.length,r=t.length,i=0;n>i;i++)for(var o=e[i],s=0;s<o.length;s++)for(var a=o[s],c=0;c<a.length;c++)for(var l=a[c],u=0;u<l.length;){for(var h=l[u],f=!1,d=0;r>d;d++)if(h!==t[d]&&y(h,t[d])){f=!0;break}f?l.splice(u,1):u++}return!1}{var C=n(3);n(17)}window.arrayForSchedule=o,window.printSchedule=r,t.makeSchedule=s,window.applySolution=a;const E=8,R=12,_=12,T=20,x=11,N=14,k=.5,O=2,I=2,M=.3;var H=3,P=3,j=3,A=3;window.scoreCurrentSchedule=f},function(e){e.exports={sectionTypePriorities:["LEC","SEM","IND","DIS","LAB","RSC","CLN"],getSectionType:function(){},sortTerms:function(e,t){var n={fa:1,sp:3};return e.sort(function(e,r){return(t?-1:1)*(+e.slice(2)-r.slice(2)||n[e.slice(0,2)]-n[r.slice(0,2)])})},getTermName:function(e){function t(e){return 50>e?2e3+e:1900+e}var n={fa:"Fall",sp:"Spring"};return n[e.slice(0,2)]+" "+t(+e.slice(2))}}},function(e,t,n){var r=n(33),i=n(23),o=n(32);e.exports=function(){void 0===i.get("meta_version")&&o.show(React.createElement(r,null))}},function(e,t,n){var r=n(32),i=n(23),o=n(34);e.exports=function(){i.get("dont-warn-unsupported-browser")||(window.indexedDB?navigator&&navigator.userAgent.indexOf("Safari")>-1&&-1==navigator.userAgent.indexOf("Chrome")&&r.show(React.createElement(o,{reason:"safari"})):r.show(React.createElement(o,{reason:"feature"})))}},function(e,t,n){var r=n(24);window.nuke=function(){if(window.confirm("Will reset local database. YOU WILL LOSE ALL DATA. Are you sure you want to continue?")){window.localStorage.clear();var e=3,t=function(){var n=window.indexedDB.deleteDatabase("coursepad");n.onsuccess=function(){alert("Reset success")},n.onerror=function(){alert("Cannot delete database")},n.onblocked=function(){--e>0&&window.setTimeout(t,100)}};r.close().then(function(){window.setTimeout(t,100)})}}},function(e,t,n){function r(){i.stop("updateAvailable")}var i=n(22),o=n(35),s=n(2);s.on("updateAvailable",function(e){i.show(React.createElement(o,{updates:e,onFinish:r}),"updateAvailable")}),s.on("readystatechange",function(){s.ready||i.stop("updateAvailable")})},function(e){e.exports={db:function(e){return"/static/data/"+e}}},function(e){function t(e){return new Promise(function(t,n){$.ajax($.extend({success:function(e){t(e)},error:function(e,t,r){n(r)}},e))})}function n(e){var n={url:e,dataType:"json"};return t(n)}e.exports={ajax:t,getJson:n}},function(e,t){t.timeStringToHour=function(e){var t=e.match(/(\d+):(\d+) ?(.+)/);if(t){var n=parseInt(t[1],10),r=n+parseInt(t[2],10)/60,i=t[3][0].toLowerCase();return 12==n&&"a"==i?r-=12:12!=n&&"p"==i&&(r+=12),r}};t.bitmaskToDay=function(e){for(var t="",n="MTWRFSU",r=0;7>r;r++)e&1<<r&&(t+=n[r]);return t}},function(e,t){t.hsvToHex=function(e,t,n){var r,i,o,s,a,c,l,u;switch(e&&void 0===t&&void 0===n&&(t=e.s,n=e.v,e=e.h),s=Math.floor(6*e),a=6*e-s,c=n*(1-t),l=n*(1-a*t),u=n*(1-(1-a)*t),s%6){case 0:r=n,i=u,o=c;break;case 1:r=l,i=n,o=c;break;case 2:r=c,i=n,o=u;break;case 3:r=c,i=l,o=n;break;case 4:r=u,i=c,o=n;break;case 5:r=n,i=c,o=l}return"#"+Math.floor(255*r).toString(16)+Math.floor(255*i).toString(16)+Math.floor(255*o).toString(16)}},function(e,t,n){var r=n(37),i=n(3),o=React.createClass({displayName:"SingleMeeting",longMeetingThreshold:1.2,mixins:[r],componentDidMount:function(){if(this._hasAlternative){var e=this;$(this.refs.meeting.getDOMNode()).draggable({revert:"invalid",containment:this._owner.getMeetingContainer(),stop:function(e,t){t.helper.css("left","")}}).on("mousedown",function(){$(document).one("mouseup",function(){e.props.dragStopHandler()}),e.props.dragStartHandler()})}},render:function(){this._hasAlternative=!!i.getCurrentSchedule().getAlternateMeetings(this.props.meeting).length;var e="meeting "+this.getClassName();this._hasAlternative&&(e+=" mutable"),this.props.length>this.longMeetingThreshold&&(e+=" meeting-long"),e+=" "+this.props.color;var t=this.getLayoutStyle();return React.createElement("div",{style:t,className:e,ref:"meeting","data-nbr":this.props.nbr},React.createElement("p",{className:"meeting-title"},this.props.title),React.createElement("p",{className:"meeting-time"},this.props.time),React.createElement("p",{className:"meeting-loc"},this.props.location))}});e.exports=o},function(e,t,n){var r=n(3),i=n(37),o=n(27),s=React.createClass({displayName:"MeetingDropoff",mixins:[i],componentDidMount:function(){var e=this;$(this.refs.dropoff.getDOMNode()).droppable({drop:function(t,n){e.onDropped(n.draggable.attr("data-nbr"))},greedy:!0,over:function(){e._onHover()},out:function(){e._onHoverEnd()}})},onDropped:function(e){r.getCurrentSchedule().changeSection(this.props.nbr,e),o.sevent("course","change_section_drop",e+"->"+this.props.nbr)},_onHover:function(){$(".mtdropoff-"+this.props.nbr).addClass("mtdropoff-highlight")},_onHoverEnd:function(){$(".mtdropoff-"+this.props.nbr).removeClass("mtdropoff-highlight")},render:function(){var e=this.props.times,t=this.getLayoutStyle();Array.isArray(e)||(e=[e]);var n="mtdropoff mtdropoff-"+this.props.nbr+" "+this.getClassName();return React.createElement("div",{className:n,style:t,ref:"dropoff"},React.createElement("div",{className:"mtdropoff-inner"},e.map(function(e){return React.createElement("p",{className:"mtdropoff-time"},e)}),React.createElement("p",{className:"mtdropoff-loc"},this.props.location)))}});e.exports=s},function(e,t,n){var r=n(37),i=React.createClass({displayName:"ConflictIndicator",mixins:[r],render:function(){return React.createElement("div",{className:"conflict-indicator "+this.getClassName(),style:this.getLayoutStyle()})}});e.exports=i},function(e,t){var n;t.show=function(e,t){n=t,React.render(e,document.getElementById("banner-container"))},t.stop=function(e){n==e&&(React.unmountComponentAtNode(document.getElementById("banner-container")),n=void 0)}},function(e){function t(e,t){return i.hasOwnProperty(e)||(void 0!==window.localStorage[e]?i[e]=JSON.parse(window.localStorage[e]):void 0!==t&&(i[e]="function"==typeof t?new t:t)),i[e]}function n(e,t){i[e]=t,r(e)}function r(e){window.localStorage[e]=JSON.stringify(i[e])}e.exports={get:t,set:n,fsync:r};var i={}},function(e,t){function n(){return void 0===p&&(p=new Promise(function(e){var t=window.indexedDB.open("coursepad",m);t.onsuccess=function(t){db=t.target.result,e(db)},t.onupgradeneeded=function(e){0===e.oldVersion?o(e.target.result):i(e.target.transaction,e.oldVersion)}})),p}function r(){return n().then(function(e){e.close()})}function i(e,t){switch(t){case 1:e.objectStore("subjects").createIndex("term","term",{unique:!1});case 2:var n=e.db.createObjectStore("title_typeahead_index",{keyPath:"term"}),r=Object.create(null);e.objectStore("title_index").openCursor().onsuccess=function(t){var i,o=t.target.result;if(o){var s=o.value;i=s.term,delete s.term,void 0===r[i]&&(r[i]={term:i,index:[]}),r[i].index.push(s),o.continue()}else{e.db.deleteObjectStore("title_index");for(i in r)n.add(r[i])}}}}function o(e){var t=e.createObjectStore("roster",{keyPath:"id"});t.createIndex("term","term",{unique:!1}),t.createIndex("course",["term","sub","nbr"],{unique:!1}),t.createIndex("subject",["term","sub"],{unique:!1});var n=e.createObjectStore("subjects",{autoIncrement:!0});n.createIndex("subject",["term","sub"],{unique:!1}),n.createIndex("term","term",{unique:!1}),e.createObjectStore("title_typeahead_index",{keyPath:"term"})}function s(e,t,r){return void 0===r&&(r="readonly"),n().then(function(n){return new Promise(function(i,o){var s=n.transaction([e],r),a=s.objectStore(e);t(a),s.oncomplete=function(){i(!0)},s.onerror=function(e){o(e)}})})}function a(e,t,r,i,o){return n().then(function(n){return new Promise(function(s){var a=n.transaction([e],o);a.objectStore(e).index(t).openKeyCursor(r).onsuccess=function(e){var t=e.target.result;t&&(i(t),t.continue())},a.oncomplete=function(){s(!0)}})})}function c(e,t,r,i){return n().then(function(n){return new Promise(function(o){var s=n.transaction([e]);s.objectStore(e).index(t).openCursor(r).onsuccess=function(e){var t=e.target.result;if(t){var n=t.value;i(n),t.continue()}},s.oncomplete=function(){o(!0)}})})}function l(e,t,n){var r=[];return c(e,t,n,function(e){r.push(e)}).then(function(){return r})}function u(e,t){return n().then(function(n){return new Promise(function(r){n.transaction([e]).objectStore(e).get(t).onsuccess=function(e){r(e.target.result)}})})}function h(e,t){return n().then(function(n){return new Promise(function(r){result=new Array(t.length);for(var i=n.transaction([e]),o=i.objectStore(e),s=0;s<t.length;s++)!function(e){o.get(t[e]).onsuccess=function(t){result[e]=t.target.result}}(s);i.oncomplete=function(){r(result)}})})}function f(e,t,r){return n().then(function(n){return new Promise(function(i){var o=n.transaction([e],"readwrite"),s=o.objectStore(e);void 0===r?s.add(t):s.add(t,r),o.oncomplete=function(){i(!0)}})})}function d(e,t){return n().then(function(n){return new Promise(function(r,i){var o=n.transaction([e],"readwrite"),s=o.objectStore(e);s.delete(t),o.oncomplete=function(){r(!0)},o.onerror=function(e){i(e.target.error)}})})}var p,m=3;t.open=n,t.close=r,t.keyCursorByIndex=a,t.queryByIndex=c,t.queryAllByIndex=l,t.getByKey=u,t.getByKeys=h,t.queryObjectStore=s,t.add=f,t.delete=d},function(e,t,n){function r(e,t){this.startTime=t.st,this.endTime=t.et,this.startDate=t.sd,this.endDate=t.ed,this.pattern=t.ptn,this.building=t.bldg,this.room=t.rm,this.professors=t.profs,this.startTime&&(this.startTimeHrs=s.timeStringToHour(this.startTime)),this.endTime&&(this.endTimeHrs=s.timeStringToHour(this.endTime)),this.parent=e}function i(e,t,n){this.number=n.nbr,this.sec=n.sec,this.parent=e,this.type=t,this.meetings=n.mt?n.mt.map(function(e){return new r(this,e)},this):[]}function o(e){this.id=e.id,this.number=e.nbr,this.subject=e.sub,this.title=e.title,this.units=e.unit||[0],this.sections={};for(var t in e.secs)e.secs.hasOwnProperty(t)&&(this.sections[t]=e.secs[t].map(function(e){return new i(this,t,e)},this))}var s=n(17);r.prototype.getAlternateMeetings=function(){var e=[],t=this.parent.type;return this.parent.parent.sections[t].forEach(function(t){t!=this.parent&&e.push.apply(e,t.meetings)},this),e};var a=["LEC","SEM","IND","DIS","LAB"];o.prototype.getNumber=function(){return this.subject+" "+this.number},o.prototype.getPrimarySectionType=function(){for(var e=0;e<a.length;e++)if(this.sections.hasOwnProperty(a[e]))return a[e];for(var t in this.sections)if(this.sections.hasOwnProperty(t))return t},o.prototype.getNumberOfTypes=function(){var e=0;for(var t in this.sections)this.sections.hasOwnProperty(t)&&e++;return e},o.prototype.getAllSections=function(){var e=[];for(var t in this.sections)this.sections.hasOwnProperty(t)&&e.push.apply(e,this.sections[t]);return e},o.prototype.findSectionByNumber=function(e){for(var t in this.sections)if(this.sections.hasOwnProperty(t))for(var n=this.sections[t],r=0;r<n.length;r++)if(n[r].number==e)return n[r];return null},e.exports=o},function(e,t){function n(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r];if(void 0!==i.startTimeHrs)for(var o=0;o<t.length;o++){var s=t[o];void 0!==s.startTimeHrs&&i.pattern&s.pattern&&i.endTimeHrs>s.startTimeHrs&&i.startTimeHrs<s.endTimeHrs&&n.push({pattern:i.pattern&s.pattern,startTimeHrs:Math.max(i.startTimeHrs,s.startTimeHrs),endTimeHrs:Math.min(i.endTimeHrs,s.endTimeHrs)})}}return n}function r(e){var t=Object.create(null);e.forEach(function(e){for(var n=1;128>n;n<<=1)e.pattern&n&&(n in t||(t[n]=[]),t[n].push({pattern:n,startTimeHrs:e.startTimeHrs,endTimeHrs:e.endTimeHrs}))});var n=[];for(var r in t)if(0!==t[r].length){t[r].sort(function(e,t){return e.startTimeHrs-t.startTimeHrs}),n.push(t[r][0]);for(var i=1;i<t[r].length;i++){var o=n[n.length-1].endTimeHrs;o<t[r][i].startTimeHrs?n.push(t[r][i]):n[n.length-1].endTimeHrs=Math.max(o,t[r][i].endTimeHrs)}}return n}t.conflictIntervals=n,t.normalizeIntervals=r},function(e,t){function n(){if(!i){if(!window.ga)return;i=window.ga.bind(window,"send","event")}i.apply(null,arguments)}function r(e){if(!o){if(!window.ga)return;o=window.ga.bind(window,"send","exception")}o(e.toString())}var i=null,o=null;t.sevent=n,t.serror=r},function(e,t,n){var r=n(3),i=n(27),o=React.createClass({displayName:"BasicInfo",componentWillMount:function(){r.on("readystatechange",this._onReadyStateChange),r.on("change",this._update)},componentDidUnmount:function(){r.off("readystatechange",this._onReadyStateChange),r.off("change",this._update)},_onReadyStateChange:function(){r.ready?this._update():this.setState(this.getInitialState())},_update:function(){var e=r.getCurrentSchedule().getBasicInfo();e.conflicts=r.getCurrentSchedule().getConflictIntervals().length>0,this.setState(e)},_toggleAlwaysShowConflicts:function(){var e=!this.state.showConflicts;this.setState({showConflicts:e}),e?this._showConflicts():this._hideConflicts(),i.sevent("basicinfo","toggle_always_conflict")},_mouseoverConflict:function(){this._showConflicts(),i.sevent("basicinfo","hover_show_conflict")},_showConflicts:function(){$("#conflict-overlay").addClass("show")},_hideConflicts:function(){$("#conflict-overlay").removeClass("show")},_hideConflictsIfNotPinned:function(){this.state.showConflicts||this._hideConflicts()},getInitialState:function(){return{units:[0,0],classes:0,hours:0,conflicts:!1,showConflicts:!1}},render:function(){var e=null;this.state.conflicts&&(e=React.createElement("div",{className:"basic-info-conflict",onMouseOver:this._mouseoverConflict,onMouseOut:this._hideConflictsIfNotPinned,onClick:this._toggleAlwaysShowConflicts},React.createElement("p",null,"Note: this schedule has conflicts"),React.createElement("p",null,React.createElement("small",null,this.state.showConflicts?"Click to remove highlight":"Hover to highlight conflicts"))));var t=this.state.units[0]!=this.state.units[1];return React.createElement("div",{className:"basic-info-container"+(this.state.conflicts?" conflicts":"")},React.createElement("div",{className:"basic-info-stats"},React.createElement("div",{className:"basic-info"},React.createElement("p",{className:"basic-info-value total-credit"+(t?" total-credit-range":"")},t?this.state.units[0]+"-"+this.state.units[1]:this.state.units[0]),React.createElement("p",{className:"basic-info-title"},"UNITS")),React.createElement("div",{className:"basic-info"},React.createElement("p",{className:"basic-info-value total-classes"},this.state.classes),React.createElement("p",{className:"basic-info-title"},this.state.classes>1?"CLASSES":"CLASS")),React.createElement("div",{className:"basic-info"},React.createElement("p",{className:"basic-info-value weekly-hours"},Math.round(10*this.state.hours)/10),React.createElement("p",{className:"basic-info-title"},this.state.hours>1?"HRS/WK":"HR/WK")),React.createElement("div",{style:{clear:"both"}})),e)}});e.exports=o},function(e,t,n){var r=n(3),i=n(27),o=n(40),s=React.createClass({displayName:"SelectionIndicator",render:function(){return React.createElement("div",{className:"selected-indicator"+(this.props.selected?" selected":"")+(this.props.action&&!this.props.selected?" selectable":""),onClick:this.props.selected?null:this.props.action}," ")}}),a=React.createClass({displayName:"Basket",componentWillMount:function(){r.on("readystatechange",this._onReadyStateChange),r.on("change",this._update)},componentDidUnmount:function(){r.off("readystatechange",this._onReadyStateChange),r.off("change",this._update)},_onReadyStateChange:function(){r.ready?this._update():this.setState(this.getInitialState())},_update:function(){this.setState({clusters:r.getCurrentSchedule().basket,sections:r.getCurrentSchedule().sections,hidden:r.getCurrentSchedule().hidden})},getInitialState:function(){return{clusters:[],sections:[],hidden:{},expansion:{}}},_toggleExpansion:function(e){var t=this.state.expansion;t[e]=!t[e],this.setState({expansion:t}),i.sevent("basket","toggle_expansion",e)},_toggleVisibility:function(e){r.getCurrentSchedule().toggleVisibility(e)},_deleteCourse:function(e){r.getCurrentSchedule().removeCourseByNumber(e)},_toggleMenu:function(e,t){var n,r=document.createElement("div");r.className="menu";var i=document.createElement("ul");r.appendChild(i);var s=document.createElement("li");s.className="clickable menuitem",s.innerHTML="Delete",s.addEventListener("click",function(){n.close(),this._deleteCourse(e)}.bind(this)),i.appendChild(s),n=new o({target:t.target,openOn:"now",destroy:!0,position:"bottom right",content:r,constrainToWindow:!0,tetherOptions:{constraints:[{to:"scrollParent",pin:!0}]}})},_changeSectionTo:function(e){r.getCurrentSchedule().changeSection(e),i.sevent("course","change_section_basket_dot",e)},_changeCourseTo:function(e){r.getCurrentSchedule().changeCourse(e),i.sevent("course","change_course_basket_dot",e)},render:function(){var e=this,t=null,n=r.getCurrentSchedule();if(n){var i=n.getSelectedSectionIdsHash(),o=n.getSelectedCourseIdsHash();t=this.state.clusters.map(function(t){function r(t){return t.map(function(t){return React.createElement("div",{className:"content level-2"},React.createElement(s,{selected:i[t.number],action:e._changeSectionTo.bind(null,t.number)}),t.type+" "+t.sec)},this)}var a=t[0].getNumber(),c=null,l=n.getColorForCourse(t[0].subject,t[0].number),u=!this.state.hidden[a];if(u||(l+=" invisible"),this.state.expansion[a])if(1===t.length){var h=t[0].getAllSections();c=r(h)}else c=t.map(function(t){var n=t.getAllSections(),i=null;return n.length>1&&(i=r(n)),React.createElement("div",{className:"content level-2"},React.createElement(s,{selected:o[t.id],action:e._changeCourseTo.bind(null,t)}),t.subject+" "+t.number,i)});var f=a+": "+t[0].title;return React.createElement("div",{className:"basket-item "+l},React.createElement("div",{className:"content"},React.createElement("div",{className:"content-buttons"},React.createElement("div",{"aria-role":"button",className:"btn menu-btn",onClick:this._toggleMenu.bind(null,a)}),React.createElement("div",{"aria-role":"button",className:"btn visibility-btn"+(u?"":" closed"),onClick:this._toggleVisibility.bind(null,a)}),React.createElement("div",{"aria-role":"button",className:"btn expand-btn"+(this.state.expansion[a]?" expanded":""),onClick:this._toggleExpansion.bind(null,a)})),React.createElement("div",{className:"content-title",title:f},f)),c)},this)}return React.createElement("div",{className:"basket utilities-item"},React.createElement("h2",null,"Basket"),t)}});e.exports=a},function(e,t,n){var r=n(38),i=n(39),o=n(32),s=React.createClass({displayName:"Tools",_showClassNumbers:function(){o.show(React.createElement(r,null))},_importExport:function(){o.show(React.createElement(i,null))},render:function(){return React.createElement("div",{className:"tools utilities-item"},React.createElement("h2",null,"Tools"),React.createElement("ul",null,React.createElement("li",null,React.createElement("a",{href:"javascript:;",onClick:this._showClassNumbers},"Show Class Numbers")),React.createElement("li",null,React.createElement("a",{href:"javascript:;",onClick:this._importExport},"Import / Export"))))}});e.exports=s},function(e,t,n){var r=n(9),i=React.createClass({displayName:"Priority",getInitialState:function(){return{val:this.props.bind[this.props.to]}},_onChange:function(e){this.setState({val:+e.target.value}),this.props.bind[this.props.to]=+e.target.value},render:function(){return React.createElement("li",null,React.createElement("label",null,this.props.label),React.createElement("select",{value:this.state.val,onChange:this._onChange},React.createElement("option",{value:"1"},"1"),React.createElement("option",{value:"2"},"2"),React.createElement("option",{value:"3"},"3"),React.createElement("option",{value:"4"},"4"),React.createElement("option",{value:"5"},"5")))}}),o=React.createClass({displayName:"Magic",render:function(){var e={lateStart:3,earlyEnd:3,noFriday:3,lunchBreak:3};return React.createElement("div",{className:"magic utilities-item"},React.createElement("h2",null,"Magic"),React.createElement("div",{className:"utilities-content"},React.createElement("p",{className:"description"},"Rate the Importance of... (1-5)"),React.createElement("ul",null,React.createElement(i,{label:"Get up late",bind:e,to:"lateStart"}),React.createElement(i,{label:"Go home early",bind:e,to:"earlyEnd"}),React.createElement(i,{label:"No Friday Class",bind:e,to:"noFriday"}),React.createElement(i,{label:"Have Lunch",bind:e,to:"lunchBreak"})),React.createElement("p",{className:"hint"},"Hint: marking everything 5 is the same as marking everything 1"),React.createElement("div",{className:"clickable btn",onClick:function(){r.makeSchedule(e)}},"Conjure a Schedule"),React.createElement("p",{className:"hint"},"Note: Magic is in alpha. Generated schedule will not be saved automatically")))}});e.exports=o},function(e){function t(e){r&&n(),r=!0,$("body").addClass("modal-open"),$(".modal-container").removeClass("hidden"),React.render(e,$(".modal-window").get(0))}function n(){r=!1,$("body").removeClass("modal-open"),$(".modal-container").addClass("hidden"),React.unmountComponentAtNode($(".modal-window").get())}var r=!1;e.exports={show:t,stop:n}},function(e,t,n){var r=n(32),i=React.createClass({displayName:"SplashScreen",_close:function(){r.stop()},render:function(){return React.createElement("div",{className:"splash-screen"},React.createElement("div",{className:"splash-screen-header"}),React.createElement("div",{className:"splash-screen-inner"},React.createElement("h2",null,"Welcome to CoursePad.me"),React.createElement("p",null,"CoursePad.me is the new way to schedule your courses at Cornell."),React.createElement("p",null,React.createElement("em",null,"Note:")," we store all your schedules in your browser. Please do not clear browsing history or use CoursePad.me in incognito mode, or you will lose your data."),React.createElement("div",{className:"splash-screen-item-container"},React.createElement("div",{className:"splash-screen-item"},React.createElement("div",{className:"splash-screen-fast-img"}),React.createElement("h3",null,"Fast and Powerful"),React.createElement("p",null,"Drag and drop between different time options. See live statistics. Highlight conflicts. All done in fraction of a second. CoursePad.me provides you the tools you need to create an optimal schedule.")),React.createElement("div",{className:"splash-screen-item"},React.createElement("div",{className:"splash-screen-247-img"}),React.createElement("h3",null,"Never Down"),React.createElement("p",null,"CoursePad.me stores all your data on your own computer and don't need to constantly talk to the server. So it will never break down during pre-enroll, exactly when you need it the most.")),React.createElement("div",{className:"splash-screen-item"},React.createElement("div",{className:"splash-screen-support-img"}),React.createElement("h3",null,"Actively Supported"),React.createElement("p",null,"CoursePad.me is under active development, with new features being added constantly. Want something to happen? Shoot an email to feedback@coursepad.me, and we'll do our best.")),React.createElement("div",{className:"clearboth"})),React.createElement("div",{className:"start-using-btn-container"},React.createElement("div",{className:"start-using-btn",onClick:this._close},"Start Using CoursePad.me"))))}});e.exports=i},function(e,t,n){var r=n(32),i=n(23),o=React.createClass({displayName:"UnsupportedBrowserWarning",_close:function(){this.refs["dont-warn"].getDOMNode().checked&&i.set("dont-warn-unsupported-browser",!0),r.stop()},render:function(){var e,t,n=!1;return"safari"==this.props.reason?(e="You Seem to be using Safari, but...",t=React.createElement("div",null,React.createElement("p",null,"Safari has a bug that made CoursePad.me slower than usual. It may take you five to ten minutes to download all classes the first time you select a semester, and several seconds each time you open the website."),React.createElement("p",null,"You may choose to continue, or you may use one of our supported browsers: ",React.createElement("a",{href:"https://www.google.com/chrome/"},"Chrome")," or ",React.createElement("a",{href:"http://www.firefox.com"},"Firefox"))),n=!0):"feature"==this.props.reason&&(e="Your Browser is Too Old",t=React.createElement("div",null,React.createElement("p",null,"CoursePad.me uses latest web technologies to deliver seamless experience, and therefore need a newer browser to function."),React.createElement("p",null,"We strongly recommend that you download the latest version of ",React.createElement("a",{href:"https://www.google.com/chrome/"},"Chrome")," or ",React.createElement("a",{href:"http://www.firefox.com"},"Firefox")),React.createElement("p",null,"You may continue anyway, but CoursePad.me may not work."))),React.createElement("div",{className:"modal-window-inner unsupported-browser"},React.createElement("div",{className:"sadface"},":-("),React.createElement("div",{className:"unsupported-browser-content"},React.createElement("h3",null,e),t,React.createElement("div",null,React.createElement("input",{type:"checkbox",ref:"dont-warn",id:"dontwarn",defaultChecked:n,onChange:this._onChange}),React.createElement("label",{htmlFor:"dontwarn"},"Don't warn me again")),React.createElement("div",{className:"close-btn-container"},React.createElement("div",{className:"close-btn",onClick:this._close},"Close"))))}});e.exports=o},function(e,t,n){var r=n(3),i=n(2),o=React.createClass({displayName:"UpdateAvailable",getInitialState:function(){return{updating:!1}},_update:function(){var e=this;this.setState({updating:!0}),i.getCurrentTerm().applyUpdates(this.props.updates).then(function(){return r.getCurrentSchedule().termDBUpdated()}).then(function(){e.props.onFinish()})},render:function(){var e;return e=this.state.updating?React.createElement("p",null,"Updating..."):React.createElement("p",null,"Your Current Roster is Out of Date. Click ",React.createElement("a",{href:"javascript:;",onClick:this._update},"Here")," to Update"),React.createElement("div",{className:"banner"},e)}});e.exports=o},function(e,t,n){"use strict";var r,i,o,s,a,c,l,u=n(42),h=n(43),f=Function.prototype.apply,d=Function.prototype.call,p=Object.create,m=Object.defineProperty,g=Object.defineProperties,v=Object.prototype.hasOwnProperty,b={configurable:!0,enumerable:!1,writable:!0};r=function(e,t){var n;return h(t),v.call(this,"__ee__")?n=this.__ee__:(n=b.value=p(null),m(this,"__ee__",b),b.value=null),n[e]?"object"==typeof n[e]?n[e].push(t):n[e]=[n[e],t]:n[e]=t,this},i=function(e,t){var n,i;return h(t),i=this,r.call(this,e,n=function(){o.call(i,e,n),f.call(t,this,arguments)}),n.__eeOnceListener__=t,this},o=function(e,t){var n,r,i,o;if(h(t),!v.call(this,"__ee__"))return this;if(n=this.__ee__,!n[e])return this;if(r=n[e],"object"==typeof r)for(o=0;i=r[o];++o)(i===t||i.__eeOnceListener__===t)&&(2===r.length?n[e]=r[o?0:1]:r.splice(o,1));else(r===t||r.__eeOnceListener__===t)&&delete n[e];return this},s=function(e){var t,n,r,i,o;if(v.call(this,"__ee__")&&(i=this.__ee__[e]))if("object"==typeof i){for(n=arguments.length,o=new Array(n-1),t=1;n>t;++t)o[t-1]=arguments[t];for(i=i.slice(),t=0;r=i[t];++t)f.call(r,this,o)}else switch(arguments.length){case 1:d.call(i,this);break;case 2:d.call(i,this,arguments[1]);break;case 3:d.call(i,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,o=new Array(n-1),t=1;n>t;++t)o[t-1]=arguments[t];f.call(i,this,o)}},a={on:r,once:i,off:o,emit:s},c={on:u(r),once:u(i),off:u(o),emit:u(s)},l=g({},c),e.exports=t=function(e){return null==e?p(l):g(Object(e),c)},t.methods=a},function(e){var t={unitHeight:65,getLayoutStyle:function(){return{top:this.unitHeight*this.props.st_offset,height:this.unitHeight*this.props.length}},getClassName:function(){return"calele calele-"+this.props.day.toLowerCase()}};e.exports=t},function(e,t,n){var r=n(3),i=n(10),o=n(32),s=React.createClass({displayName:"ClassNumbers",componentDidMount:function(){r.on("change",this._onScheduleChange),r.on("readystatechange",this._onScheduleReadyStateChange)},componentWillUnmount:function(){r.off("change",this._onScheduleChange),r.off("readystatechange",this._onScheduleReadyStateChange)},_onScheduleReadyStateChange:function(){r.ready&&this._onScheduleChange()},_onScheduleChange:function(){this.forceUpdate()},render:function(){var e,t=r.getCurrentSchedule();if(t){var n=Object.create(null),s=Object.create(null);t.getVisibleSections().forEach(function(e){var t=e.parent;n[t.id]=t,s[t.id]||(s[t.id]=Object.create(null)),s[t.id][e.type]=e});var a=Object.keys(s).sort(function(e,t){return n[e].getNumber().localeCompare(n[t].getNumber())});e=a.map(function(e){var t=n[e],r=i.sectionTypePriorities.filter(function(t){return s[e][t]}).map(function(t){var n=s[e][t];return React.createElement("li",null,React.createElement("span",{className:"class-number"},n.number),React.createElement("span",{className:"section-number"},n.type+" "+n.sec))});return React.createElement("li",null,React.createElement("p",{className:"course-title"},t.getNumber()+": "+t.title),React.createElement("ul",{className:"classnumber-section-list"},r))})}else e=null;return React.createElement("div",{className:"classnumber-list"},React.createElement("h2",null,"Class Numbers ",React.createElement("span",{className:"clickable modal-close",onClick:o.stop},"✖")),React.createElement("ul",{className:"classnumber-course-list"},e))}});e.exports=s},function(e,t,n){var r=n(32),i=n(41),o=React.createClass({displayName:"ImportExport",_close:function(){r.stop()},_save:function(){i.export()},_load:function(){var e=this.refs.load.getDOMNode().files;0===e.length?alert("You need to choose a file"):i.import(e[0])},render:function(){return React.createElement("div",{className:"modal-window-inner import-export"},React.createElement("h2",null,"Import / Export Schedule"),React.createElement("h3",null,"Export Schedule"),React.createElement("p",null,"You can save your schedule to a file, in case browser data is cleared"),React.createElement("p",null,React.createElement("div",{className:"btn btn-blue",onClick:this._save},"Save")),React.createElement("hr",null),React.createElement("h3",null,"Import Schedule"),React.createElement("p",null,"You can load your previously saved schedule."),React.createElement("p",null,React.createElement("em",null,"Warning:")," this replaces any schedule you have right now"),React.createElement("div",null,React.createElement("input",{type:"file",ref:"load"}),React.createElement("div",{className:"btn btn-blue",onClick:this._load},"Load")),React.createElement("div",{className:"close-btn-container"},React.createElement("div",{className:"close-btn",onClick:this._close},"Close")))
}});e.exports=o},function(e,t,n){(function(){var t,r,i,o,s,a,c,l,u,h,f,d,p,m,g,v,b,y,w=n(44),S={}.hasOwnProperty,C=function(e,t){function n(){this.constructor=e}for(var r in t)S.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},E=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};y=w.Utils,l=y.extend,i=y.addClass,f=y.removeClass,u=y.hasClass,t=y.Evented,g="ontouchstart"in document.documentElement,s=["click"],g&&s.push("touchstart"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"},v="";for(h in b)c=b[h],m=document.createElement("p"),void 0!==m.style[h]&&(v=c);p=function(e){var t,n,r,i;return r=e.split(" "),t=r[0],n=r[1],("left"===t||"right"===t)&&(i=[n,t],t=i[0],n=i[1]),[t,n].join(" ")},r={left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle",center:"center"},o={},d=function(e,t){var n,r;for(r=[];-1!==(n=e.indexOf(t));)r.push(e.splice(n,1));return r},a=function(e){var n,c,h,m;return null==e&&(e={}),h=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,arguments,function(){})},l(h,{createContext:a,drops:[],defaults:{}}),c={classPrefix:"drop",defaults:{position:"bottom left",openOn:"click",constrainToScrollParent:!0,constrainToWindow:!0,classes:"",remove:!1,tetherOptions:{}}},l(h,c,e),l(h.defaults,c.defaults,e.defaults),null==o[m=h.classPrefix]&&(o[m]=[]),h.updateBodyClasses=function(){var e,t,n,r,s;for(e=!1,s=o[h.classPrefix],n=0,r=s.length;r>n;n++)if(t=s[n],t.isOpened()){e=!0;break}return e?i(document.body,""+h.classPrefix+"-open"):f(document.body,""+h.classPrefix+"-open")},n=function(t){function n(e){if(this.options=e,this.options=l({},h.defaults,this.options),this.target=this.options.target,null==this.target)throw new Error("Drop Error: You must provide a target.");this.options.classes&&i(this.target,this.options.classes),h.drops.push(this),o[h.classPrefix].push(this),this._boundEvents=[],this.setupElements(),this.setupEvents(),this.setupTether()}return C(n,t),n.prototype._on=function(e,t,n){return this._boundEvents.push({element:e,event:t,handler:n}),e.addEventListener(t,n)},n.prototype.setupElements=function(){return this.drop=document.createElement("div"),i(this.drop,h.classPrefix),this.options.classes&&i(this.drop,this.options.classes),this.content=document.createElement("div"),i(this.content,""+h.classPrefix+"-content"),"object"==typeof this.options.content?React.isValidElement(this.options.content)?React.render(this.options.content,this.content):this.content.appendChild(this.options.content):this.content.innerHTML=this.options.content,this.drop.appendChild(this.content)},n.prototype.setupTether=function(){var t,n;return n=this.options.position.split(" "),n[0]=r[n[0]],n=n.join(" "),t=[],t.push(this.options.constrainToScrollParent?{to:"scrollParent",pin:"top, bottom",attachment:"together none"}:{to:"scrollParent"}),t.push(this.options.constrainToWindow!==!1?{to:"window",attachment:"together"}:{to:"window"}),e={element:this.drop,target:this.target,attachment:p(n),targetAttachment:p(this.options.position),classPrefix:h.classPrefix,offset:"0 0",targetOffset:"0 0",enabled:!1,constraints:t},this.options.tetherOptions!==!1?this.tether=new w(l({},e,this.options.tetherOptions)):void 0},n.prototype.setupEvents=function(){var e,t,n,r,i,o,a,c,l,u,h=this;if(this.options.openOn){if("always"===this.options.openOn)return void setTimeout(this.open.bind(this));if("now"===this.options.openOn&&setTimeout(this.open.bind(this)),n=this.options.openOn.split(" "),E.call(n,"click")>=0||E.call(n,"now")>=0)for(i=function(e){return h.toggle(),e.preventDefault()},t=function(e){return!h.isOpened()||e.target===h.drop||h.drop.contains(e.target)||e.target===h.target||h.target.contains(e.target)?void 0:h.close()},l=0,u=s.length;u>l;l++)e=s[l],this._on(this.target,e,i),this._on(document,e,t);return E.call(n,"hover")>=0?(r=!1,c=function(){return r=!0,h.open()},a=null,o=function(){return r=!1,null!=a&&clearTimeout(a),a=setTimeout(function(){return r||h.close(),a=null},50)},this._on(this.target,"mouseover",c),this._on(this.drop,"mouseover",c),this._on(this.target,"mouseout",o),this._on(this.drop,"mouseout",o)):void 0}},n.prototype.isOpened=function(){return u(this.drop,""+h.classPrefix+"-open")},n.prototype.toggle=function(){return this.isOpened()?this.close():this.open()},n.prototype.open=function(){var e,t,n=this;if(!this.isOpened())return this.drop.parentNode||document.body.appendChild(this.drop),null!=(e=this.tether)&&e.enable(),i(this.drop,""+h.classPrefix+"-open"),i(this.drop,""+h.classPrefix+"-open-transitionend"),setTimeout(function(){return i(n.drop,""+h.classPrefix+"-after-open")}),null!=(t=this.tether)&&t.position(),this.trigger("open"),h.updateBodyClasses()},n.prototype.close=function(){var e,t,n=this;if(this.isOpened())return f(this.drop,""+h.classPrefix+"-open"),f(this.drop,""+h.classPrefix+"-after-open"),this.drop.addEventListener(v,e=function(){return u(n.drop,""+h.classPrefix+"-open")||f(n.drop,""+h.classPrefix+"-open-transitionend"),n.drop.removeEventListener(v,e)}),this.trigger("close"),null!=(t=this.tether)&&t.disable(),h.updateBodyClasses(),this.options.remove?this.remove():this.options.destroy?this.destroy():void 0},n.prototype.remove=function(){var e;return this.close(),null!=(e=this.drop.parentNode)?e.removeChild(this.drop):void 0},n.prototype.position=function(){var e;return this.isOpened()&&null!=(e=this.tether)?e.position():void 0},n.prototype.destroy=function(){var e,t,n,r,i,s,a,c;for(this.remove(),null!=(s=this.tether)&&s.destroy(),a=this._boundEvents,r=0,i=a.length;i>r;r++)c=a[r],e=c.element,t=c.event,n=c.handler,e.removeEventListener(t,n);return this._boundEvents=[],this.tether=null,this.drop=null,this.content=null,this.target=null,d(o[h.classPrefix],this),d(h.drops,this)},n}(t),h};var R=a();e.exports=R,document.addEventListener("DOMContentLoaded",function(){return R.updateBodyClasses()})}).call(this)},function(e,t,n){var r=n(48);t.export=function(){for(var e={localStorage:{}},t=0;t<localStorage.length;t++){var n=localStorage.key(t),i=n.split("_");2==i.length&&"schedules"==i[1]&&(e.localStorage[n]=localStorage.getItem(n))}e.meta_version=+localStorage.getItem("meta_version");var o=new Blob([JSON.stringify(e)],{type:"application/json"});r(o,"coursepad.json")},t.import=function(e){var t=new FileReader;t.onload=function(e){var t=JSON.parse(e.target.result);if(t.localStorage)for(var n in t.localStorage)t.localStorage.hasOwnProperty(n)&&localStorage.setItem(n,t.localStorage[n]);window.location.reload()},t.readAsText(e)}},function(e,t,n){"use strict";var r,i=n(47),o=n(45),s=n(46),a=n(49);r=e.exports=function(e,t){var n,r,s,c,l;return arguments.length<2||"string"!=typeof e?(c=t,t=e,e=null):c=arguments[2],null==e?(n=s=!0,r=!1):(n=a.call(e,"c"),r=a.call(e,"e"),s=a.call(e,"w")),l={value:t,configurable:n,enumerable:r,writable:s},c?i(o(c),l):l},r.gs=function(e,t,n){var r,c,l,u;return"string"!=typeof e?(l=n,n=t,t=e,e=null):l=arguments[3],null==t?t=void 0:s(t)?null==n?n=void 0:s(n)||(l=n,n=void 0):(l=t,t=n=void 0),null==e?(r=!0,c=!1):(r=a.call(e,"c"),c=a.call(e,"e")),u={get:t,set:n,configurable:r,enumerable:c},l?i(o(l),u):u}},function(e){"use strict";e.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},function(e,t,n){var r,i;!function(o,s){r=s,i="function"==typeof r?r.call(t,n,t,e):r,!(void 0!==i&&(e.exports=i))}(this,function(){return function(){var e,t,n,r,i,o,s,a,c,l,u,h,f,d,p,m,g,v,b,y={}.hasOwnProperty,w=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},S=[].slice;null==this.Tether&&(this.Tether={modules:[]}),h=function(e){var t,n,r,i,o;if(n=getComputedStyle(e).position,"fixed"===n)return e;for(r=void 0,t=e;t=t.parentNode;){try{i=getComputedStyle(t)}catch(s){}if(null==i)return t;if(/(auto|scroll)/.test(i.overflow+i.overflowY+i.overflowX)&&("absolute"!==n||"relative"===(o=i.position)||"absolute"===o||"fixed"===o))return t}return document.body},g=function(){var e;return e=0,function(){return e++}}(),b={},l=function(e){var t,r,o,s,a;if(o=e._tetherZeroElement,null==o&&(o=e.createElement("div"),o.setAttribute("data-tether-id",g()),i(o.style,{top:0,left:0,position:"absolute"}),e.body.appendChild(o),e._tetherZeroElement=o),t=o.getAttribute("data-tether-id"),null==b[t]){b[t]={},a=o.getBoundingClientRect();for(r in a)s=a[r],b[t][r]=s;n(function(){return b[t]=void 0})}return b[t]},d=null,s=function(e){var t,n,r,i,o,s,a;e===document?(n=document,e=document.documentElement):n=e.ownerDocument,r=n.documentElement,t={},a=e.getBoundingClientRect();for(i in a)s=a[i],t[i]=s;return o=l(n),t.top-=o.top,t.left-=o.left,null==t.width&&(t.width=document.body.scrollWidth-t.left-t.right),null==t.height&&(t.height=document.body.scrollHeight-t.top-t.bottom),t.top=t.top-r.clientTop,t.left=t.left-r.clientLeft,t.right=n.body.clientWidth-t.width-t.left,t.bottom=n.body.clientHeight-t.height-t.top,t},c=function(e){return e.offsetParent||document.documentElement},u=function(){var e,t,n,r,o;return e=document.createElement("div"),e.style.width="100%",e.style.height="200px",t=document.createElement("div"),i(t.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t),r=e.offsetWidth,t.style.overflow="scroll",o=e.offsetWidth,r===o&&(o=t.clientWidth),document.body.removeChild(t),n=r-o,{width:n,height:n}},i=function(e){var t,n,r,i,o,s,a;for(null==e&&(e={}),t=[],Array.prototype.push.apply(t,arguments),a=t.slice(1),o=0,s=a.length;s>o;o++)if(r=a[o])for(n in r)y.call(r,n)&&(i=r[n],e[n]=i);return e},p=function(e,t){var n,r,i,o,s,c;if(null!=e.classList){for(s=t.split(" "),c=[],i=0,o=s.length;o>i;i++)r=s[i],r.trim()&&c.push(e.classList.remove(r));return c}return n=a(e).replace(new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi")," "),m(e,n)},t=function(e,t){var n,r,i,o,s;if(null!=e.classList){for(o=t.split(" "),s=[],r=0,i=o.length;i>r;r++)n=o[r],n.trim()&&s.push(e.classList.add(n));return s}return p(e,t),n=a(e)+(" "+t),m(e,n)},f=function(e,t){return null!=e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(a(e))},a=function(e){return e.className instanceof SVGAnimatedString?e.className.baseVal:e.className},m=function(e,t){return e.setAttribute("class",t)},v=function(e,n,r){var i,o,s,a,c,l;for(o=0,a=r.length;a>o;o++)i=r[o],w.call(n,i)<0&&f(e,i)&&p(e,i);for(l=[],s=0,c=n.length;c>s;s++)i=n[s],l.push(f(e,i)?void 0:t(e,i));return l},r=[],n=function(e){return r.push(e)},o=function(){var e,t;for(t=[];e=r.pop();)t.push(e());return t},e=function(){function e(){}return e.prototype.on=function(e,t,n,r){var i;return null==r&&(r=!1),null==this.bindings&&(this.bindings={}),null==(i=this.bindings)[e]&&(i[e]=[]),this.bindings[e].push({handler:t,ctx:n,once:r})},e.prototype.once=function(e,t,n){return this.on(e,t,n,!0)},e.prototype.off=function(e,t){var n,r,i;if(null!=(null!=(r=this.bindings)?r[e]:void 0)){if(null==t)return delete this.bindings[e];for(n=0,i=[];n<this.bindings[e].length;)i.push(this.bindings[e][n].handler===t?this.bindings[e].splice(n,1):n++);return i}},e.prototype.trigger=function(){var e,t,n,r,i,o,s,a,c;if(n=arguments[0],e=2<=arguments.length?S.call(arguments,1):[],null!=(s=this.bindings)?s[n]:void 0){for(i=0,c=[];i<this.bindings[n].length;)a=this.bindings[n][i],r=a.handler,t=a.ctx,o=a.once,r.apply(null!=t?t:this,e),c.push(o?this.bindings[n].splice(i,1):i++);return c}},e}(),this.Tether.Utils={getScrollParent:h,getBounds:s,getOffsetParent:c,extend:i,addClass:t,removeClass:p,hasClass:f,updateClasses:v,defer:n,flush:o,uniqueId:g,Evented:e,getScrollBarSize:u}}.call(this),function(){var e,t,n,r,i,o,s,a,c,l,u,h,f,d,p,m,g,v,b,y,w,S,C,E,R,_,T,x,N,k=[].slice,O=function(e,t){return function(){return e.apply(t,arguments)}};if(null==this.Tether)throw new Error("You must include the utils.js file before tether.js");r=this.Tether,N=r.Utils,m=N.getScrollParent,g=N.getSize,d=N.getOuterSize,h=N.getBounds,f=N.getOffsetParent,l=N.extend,i=N.addClass,C=N.removeClass,_=N.updateClasses,c=N.defer,u=N.flush,p=N.getScrollBarSize,T=function(e,t,n){return null==n&&(n=1),e+n>=t&&t>=e-n},R=function(){var e,t,n,r,i;for(e=document.createElement("div"),i=["transform","webkitTransform","OTransform","MozTransform","msTransform"],n=0,r=i.length;r>n;n++)if(t=i[n],void 0!==e.style[t])return t}(),E=[],S=function(){var e,t,n;for(t=0,n=E.length;n>t;t++)e=E[t],e.position(!1);return u()},v=function(){var e;return null!=(e="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?e:+new Date},function(){var e,t,n,r,i,o,s,a,c;for(t=null,n=null,r=null,i=function(){return null!=n&&n>16?(n=Math.min(n-16,250),void(r=setTimeout(i,250))):null!=t&&v()-t<10?void 0:(null!=r&&(clearTimeout(r),r=null),t=v(),S(),n=v()-t)},a=["resize","scroll","touchmove"],c=[],o=0,s=a.length;s>o;o++)e=a[o],c.push(window.addEventListener(e,i));return c}(),e={center:"center",left:"right",right:"left"},t={middle:"middle",top:"bottom",bottom:"top"},n={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},a=function(n,r){var i,o;return i=n.left,o=n.top,"auto"===i&&(i=e[r.left]),"auto"===o&&(o=t[r.top]),{left:i,top:o}},s=function(e){var t,r;return{left:null!=(t=n[e.left])?t:e.left,top:null!=(r=n[e.top])?r:e.top}},o=function(){var e,t,n,r,i,o,s;for(t=1<=arguments.length?k.call(arguments,0):[],n={top:0,left:0},i=0,o=t.length;o>i;i++)s=t[i],r=s.top,e=s.left,"string"==typeof r&&(r=parseFloat(r,10)),"string"==typeof e&&(e=parseFloat(e,10)),n.top+=r,n.left+=e;return n},b=function(e,t){return"string"==typeof e.left&&-1!==e.left.indexOf("%")&&(e.left=parseFloat(e.left,10)/100*t.width),"string"==typeof e.top&&-1!==e.top.indexOf("%")&&(e.top=parseFloat(e.top,10)/100*t.height),e},y=w=function(e){var t,n,r;return r=e.split(" "),n=r[0],t=r[1],{top:n,left:t}},x=function(){function e(e){this.position=O(this.position,this);var t,n,i,o,s;for(E.push(this),this.history=[],this.setOptions(e,!1),o=r.modules,n=0,i=o.length;i>n;n++)t=o[n],null!=(s=t.initialize)&&s.call(this);this.position()}return e.modules=[],e.prototype.getClass=function(e){var t,n;return(null!=(t=this.options.classes)?t[e]:void 0)?this.options.classes[e]:(null!=(n=this.options.classes)?n[e]:void 0)!==!1?this.options.classPrefix?""+this.options.classPrefix+"-"+e:e:""},e.prototype.setOptions=function(e,t){var n,r,o,s,a,c;for(this.options=e,null==t&&(t=!0),n={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"},this.options=l(n,this.options),a=this.options,this.element=a.element,this.target=a.target,this.targetModifier=a.targetModifier,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),c=["element","target"],o=0,s=c.length;s>o;o++){if(r=c[o],null==this[r])throw new Error("Tether Error: Both element and target must be defined");null!=this[r].jquery?this[r]=this[r][0]:"string"==typeof this[r]&&(this[r]=document.querySelector(this[r]))}if(i(this.element,this.getClass("element")),i(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");return this.targetAttachment=y(this.options.targetAttachment),this.attachment=y(this.options.attachment),this.offset=w(this.options.offset),this.targetOffset=w(this.options.targetOffset),null!=this.scrollParent&&this.disable(),this.scrollParent="scroll-handle"===this.targetModifier?this.target:m(this.target),this.options.enabled!==!1?this.enable(t):void 0},e.prototype.getTargetBounds=function(){var e,t,n,r,i,o,s,a,c;if(null==this.targetModifier)return h(this.target);switch(this.targetModifier){case"visible":return this.target===document.body?{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth}:(e=h(this.target),i={height:e.height,width:e.width,top:e.top,left:e.left},i.height=Math.min(i.height,e.height-(pageYOffset-e.top)),i.height=Math.min(i.height,e.height-(e.top+e.height-(pageYOffset+innerHeight))),i.height=Math.min(innerHeight,i.height),i.height-=2,i.width=Math.min(i.width,e.width-(pageXOffset-e.left)),i.width=Math.min(i.width,e.width-(e.left+e.width-(pageXOffset+innerWidth))),i.width=Math.min(innerWidth,i.width),i.width-=2,i.top<pageYOffset&&(i.top=pageYOffset),i.left<pageXOffset&&(i.left=pageXOffset),i);case"scroll-handle":return c=this.target,c===document.body?(c=document.documentElement,e={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):e=h(c),a=getComputedStyle(c),n=c.scrollWidth>c.clientWidth||"scroll"===[a.overflow,a.overflowX]||this.target!==document.body,o=0,n&&(o=15),r=e.height-parseFloat(a.borderTopWidth)-parseFloat(a.borderBottomWidth)-o,i={width:15,height:.975*r*(r/c.scrollHeight),left:e.left+e.width-parseFloat(a.borderLeftWidth)-15},t=0,408>r&&this.target===document.body&&(t=-11e-5*Math.pow(r,2)-.00727*r+22.58),this.target!==document.body&&(i.height=Math.max(i.height,24)),s=this.target.scrollTop/(c.scrollHeight-r),i.top=s*(r-i.height-t)+e.top+parseFloat(a.borderTopWidth),this.target===document.body&&(i.height=Math.max(i.height,24)),i}},e.prototype.clearCache=function(){return this._cache={}},e.prototype.cache=function(e,t){return null==this._cache&&(this._cache={}),null==this._cache[e]&&(this._cache[e]=t.call(this)),this._cache[e]},e.prototype.enable=function(e){return null==e&&(e=!0),i(this.target,this.getClass("enabled")),i(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParent!==document&&this.scrollParent.addEventListener("scroll",this.position),e?this.position():void 0},e.prototype.disable=function(){return C(this.target,this.getClass("enabled")),C(this.element,this.getClass("enabled")),this.enabled=!1,null!=this.scrollParent?this.scrollParent.removeEventListener("scroll",this.position):void 0},e.prototype.destroy=function(){var e,t,n,r,i;for(this.disable(),i=[],e=n=0,r=E.length;r>n;e=++n){if(t=E[e],t===this){E.splice(e,1);break}i.push(void 0)}return i},e.prototype.updateAttachClasses=function(e,t){var n,r,i,o,s,a,l,u,h,f=this;for(null==e&&(e=this.attachment),null==t&&(t=this.targetAttachment),o=["left","top","bottom","right","middle","center"],(null!=(h=this._addAttachClasses)?h.length:void 0)&&this._addAttachClasses.splice(0,this._addAttachClasses.length),n=null!=this._addAttachClasses?this._addAttachClasses:this._addAttachClasses=[],e.top&&n.push(""+this.getClass("element-attached")+"-"+e.top),e.left&&n.push(""+this.getClass("element-attached")+"-"+e.left),t.top&&n.push(""+this.getClass("target-attached")+"-"+t.top),t.left&&n.push(""+this.getClass("target-attached")+"-"+t.left),r=[],s=0,l=o.length;l>s;s++)i=o[s],r.push(""+this.getClass("element-attached")+"-"+i);for(a=0,u=o.length;u>a;a++)i=o[a],r.push(""+this.getClass("target-attached")+"-"+i);return c(function(){return null!=f._addAttachClasses?(_(f.element,f._addAttachClasses,r),_(f.target,f._addAttachClasses,r),f._addAttachClasses=void 0):void 0})},e.prototype.position=function(e){var t,n,i,c,l,d,m,g,v,y,w,S,C,E,R,_,T,x,N,k,O,I,M,H,P,j,A,B,D,L,W,F,U,z,q,$=this;if(null==e&&(e=!0),this.enabled){for(this.clearCache(),k=a(this.targetAttachment,this.attachment),this.updateAttachClasses(this.attachment,k),t=this.cache("element-bounds",function(){return h($.element)}),P=t.width,i=t.height,0===P&&0===i&&null!=this.lastSize?(L=this.lastSize,P=L.width,i=L.height):this.lastSize={width:P,height:i},M=I=this.cache("target-bounds",function(){return $.getTargetBounds()}),v=b(s(this.attachment),{width:P,height:i}),O=b(s(k),M),l=b(this.offset,{width:P,height:i}),d=b(this.targetOffset,M),v=o(v,l),O=o(O,d),c=I.left+O.left-v.left,H=I.top+O.top-v.top,W=r.modules,j=0,B=W.length;B>j;j++)if(m=W[j],R=m.position.call(this,{left:c,top:H,targetAttachment:k,targetPos:I,attachment:this.attachment,elementPos:t,offset:v,targetOffset:O,manualOffset:l,manualTargetOffset:d,scrollbarSize:x}),null!=R&&"object"==typeof R){if(R===!1)return!1;H=R.top,c=R.left}if(g={page:{top:H,left:c},viewport:{top:H-pageYOffset,bottom:pageYOffset-H-i+innerHeight,left:c-pageXOffset,right:pageXOffset-c-P+innerWidth}},document.body.scrollWidth>window.innerWidth&&(x=this.cache("scrollbar-size",p),g.viewport.bottom-=x.height),document.body.scrollHeight>window.innerHeight&&(x=this.cache("scrollbar-size",p),g.viewport.right-=x.width),(""!==(F=document.body.style.position)&&"static"!==F||""!==(U=document.body.parentElement.style.position)&&"static"!==U)&&(g.page.bottom=document.body.scrollHeight-H-i,g.page.right=document.body.scrollWidth-c-P),(null!=(z=this.options.optimizations)?z.moveElement:void 0)!==!1&&null==this.targetModifier){for(w=this.cache("target-offsetparent",function(){return f($.target)}),E=this.cache("target-offsetparent-bounds",function(){return h(w)}),C=getComputedStyle(w),n=getComputedStyle(this.element),S=E,y={},q=["Top","Left","Bottom","Right"],A=0,D=q.length;D>A;A++)N=q[A],y[N.toLowerCase()]=parseFloat(C["border"+N+"Width"]);E.right=document.body.scrollWidth-E.left-S.width+y.right,E.bottom=document.body.scrollHeight-E.top-S.height+y.bottom,g.page.top>=E.top+y.top&&g.page.bottom>=E.bottom&&g.page.left>=E.left+y.left&&g.page.right>=E.right&&(T=w.scrollTop,_=w.scrollLeft,g.offset={top:g.page.top-E.top+T-y.top,left:g.page.left-E.left+_-y.left})}return this.move(g),this.history.unshift(g),this.history.length>3&&this.history.pop(),e&&u(),!0}},e.prototype.move=function(e){var t,n,r,i,o,s,a,u,h,d,p,m,g,v,b,y,w,S=this;if(null!=this.element.parentNode){u={};for(d in e){u[d]={};for(i in e[d]){for(r=!1,y=this.history,v=0,b=y.length;b>v;v++)if(a=y[v],!T(null!=(w=a[d])?w[i]:void 0,e[d][i])){r=!0;break}r||(u[d][i]=!0)}}t={top:"",left:"",right:"",bottom:""},h=function(e,n){var r,i,o;return(null!=(o=S.options.optimizations)?o.gpu:void 0)===!1?(e.top?t.top=""+n.top+"px":t.bottom=""+n.bottom+"px",e.left?t.left=""+n.left+"px":t.right=""+n.right+"px"):(e.top?(t.top=0,i=n.top):(t.bottom=0,i=-n.bottom),e.left?(t.left=0,r=n.left):(t.right=0,r=-n.right),t[R]="translateX("+Math.round(r)+"px) translateY("+Math.round(i)+"px)","msTransform"!==R?t[R]+=" translateZ(0)":void 0)},o=!1,(u.page.top||u.page.bottom)&&(u.page.left||u.page.right)?(t.position="absolute",h(u.page,e.page)):(u.viewport.top||u.viewport.bottom)&&(u.viewport.left||u.viewport.right)?(t.position="fixed",h(u.viewport,e.viewport)):null!=u.offset&&u.offset.top&&u.offset.left?(t.position="absolute",s=this.cache("target-offsetparent",function(){return f(S.target)}),f(this.element)!==s&&c(function(){return S.element.parentNode.removeChild(S.element),s.appendChild(S.element)}),h(u.offset,e.offset),o=!0):(t.position="absolute",h({top:!0,left:!0},e.page)),o||"BODY"===this.element.parentNode.tagName||(this.element.parentNode.removeChild(this.element),document.body.appendChild(this.element)),g={},m=!1;for(i in t)p=t[i],n=this.element.style[i],""===n||""===p||"top"!==i&&"left"!==i&&"bottom"!==i&&"right"!==i||(n=parseFloat(n),p=parseFloat(p)),n!==p&&(m=!0,g[i]=t[i]);return m?c(function(){return l(S.element.style,g)}):void 0}},e}(),r.position=S,this.Tether=l(x,r)}.call(this),function(){var e,t,n,r,i,o,s,a,c,l,u=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};l=this.Tether.Utils,s=l.getOuterSize,o=l.getBounds,a=l.getSize,r=l.extend,c=l.updateClasses,n=l.defer,t={left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle"},e=["left","top","right","bottom"],i=function(t,n){var r,i,s,a,c,l,u;if("scrollParent"===n?n=t.scrollParent:"window"===n&&(n=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),n===document&&(n=n.documentElement),null!=n.nodeType)for(i=a=o(n),c=getComputedStyle(n),n=[i.left,i.top,a.width+i.left,a.height+i.top],r=l=0,u=e.length;u>l;r=++l)s=e[r],s=s[0].toUpperCase()+s.substr(1),"Top"===s||"Left"===s?n[r]+=parseFloat(c["border"+s+"Width"]):n[r]-=parseFloat(c["border"+s+"Width"]);return n},this.Tether.modules.push({position:function(t){var s,a,l,h,f,d,p,m,g,v,b,y,w,S,C,E,R,_,T,x,N,k,O,I,M,H,P,j,A,B,D,L,W,F,U,z,q,$,Y,V,K,X,J,G,Z,Q,et,tt=this;if(H=t.top,b=t.left,N=t.targetAttachment,!this.options.constraints)return!0;for(_=function(t){var n,r,i,o;for(tt.removeClass(t),o=[],r=0,i=e.length;i>r;r++)n=e[r],o.push(tt.removeClass(""+t+"-"+n));return o},V=this.cache("element-bounds",function(){return o(tt.element)}),v=V.height,P=V.width,0===P&&0===v&&null!=this.lastSize&&(K=this.lastSize,P=K.width,v=K.height),O=this.cache("target-bounds",function(){return tt.getTargetBounds()}),k=O.height,I=O.width,x={},g={},a=[this.getClass("pinned"),this.getClass("out-of-bounds")],X=this.options.constraints,j=0,L=X.length;L>j;j++)m=X[j],m.outOfBoundsClass&&a.push(m.outOfBoundsClass),m.pinnedClass&&a.push(m.pinnedClass);for(A=0,W=a.length;W>A;A++)for(p=a[A],J=["left","top","right","bottom"],B=0,F=J.length;F>B;B++)T=J[B],a.push(""+p+"-"+T);for(s=[],x=r({},N),g=r({},this.attachment),G=this.options.constraints,D=0,U=G.length;U>D;D++){if(m=G[D],M=m.to,l=m.attachment,C=m.pin,null==l&&(l=""),u.call(l," ")>=0?(Z=l.split(" "),d=Z[0],f=Z[1]):f=d=l,h=i(this,M),("target"===d||"both"===d)&&(H<h[1]&&"top"===x.top&&(H+=k,x.top="bottom"),H+v>h[3]&&"bottom"===x.top&&(H-=k,x.top="top")),"together"===d&&(H<h[1]&&"top"===x.top&&("bottom"===g.top?(H+=k,x.top="bottom",H+=v,g.top="top"):"top"===g.top&&(H+=k,x.top="bottom",H-=v,g.top="bottom")),H+v>h[3]&&"bottom"===x.top&&("top"===g.top?(H-=k,x.top="top",H-=v,g.top="bottom"):"bottom"===g.top&&(H-=k,x.top="top",H+=v,g.top="top")),"middle"===x.top&&(H+v>h[3]&&"top"===g.top?(H-=v,g.top="bottom"):H<h[1]&&"bottom"===g.top&&(H+=v,g.top="top"))),("target"===f||"both"===f)&&(b<h[0]&&"left"===x.left&&(b+=I,x.left="right"),b+P>h[2]&&"right"===x.left&&(b-=I,x.left="left")),"together"===f&&(b<h[0]&&"left"===x.left?"right"===g.left?(b+=I,x.left="right",b+=P,g.left="left"):"left"===g.left&&(b+=I,x.left="right",b-=P,g.left="right"):b+P>h[2]&&"right"===x.left?"left"===g.left?(b-=I,x.left="left",b-=P,g.left="right"):"right"===g.left&&(b-=I,x.left="left",b+=P,g.left="left"):"center"===x.left&&(b+P>h[2]&&"left"===g.left?(b-=P,g.left="right"):b<h[0]&&"right"===g.left&&(b+=P,g.left="left"))),("element"===d||"both"===d)&&(H<h[1]&&"bottom"===g.top&&(H+=v,g.top="top"),H+v>h[3]&&"top"===g.top&&(H-=v,g.top="bottom")),("element"===f||"both"===f)&&(b<h[0]&&"right"===g.left&&(b+=P,g.left="left"),b+P>h[2]&&"left"===g.left&&(b-=P,g.left="right")),"string"==typeof C?C=function(){var e,t,n,r;for(n=C.split(","),r=[],t=0,e=n.length;e>t;t++)S=n[t],r.push(S.trim());return r}():C===!0&&(C=["top","left","right","bottom"]),C||(C=[]),E=[],y=[],H<h[1]&&(u.call(C,"top")>=0?(H=h[1],E.push("top")):y.push("top")),H+v>h[3]&&(u.call(C,"bottom")>=0?(H=h[3]-v,E.push("bottom")):y.push("bottom")),b<h[0]&&(u.call(C,"left")>=0?(b=h[0],E.push("left")):y.push("left")),b+P>h[2]&&(u.call(C,"right")>=0?(b=h[2]-P,E.push("right")):y.push("right")),E.length)for(R=null!=(Q=this.options.pinnedClass)?Q:this.getClass("pinned"),s.push(R),$=0,z=E.length;z>$;$++)T=E[$],s.push(""+R+"-"+T);if(y.length)for(w=null!=(et=this.options.outOfBoundsClass)?et:this.getClass("out-of-bounds"),s.push(w),Y=0,q=y.length;q>Y;Y++)T=y[Y],s.push(""+w+"-"+T);(u.call(E,"left")>=0||u.call(E,"right")>=0)&&(g.left=x.left=!1),(u.call(E,"top")>=0||u.call(E,"bottom")>=0)&&(g.top=x.top=!1),(x.top!==N.top||x.left!==N.left||g.top!==this.attachment.top||g.left!==this.attachment.left)&&this.updateAttachClasses(g,x)}return n(function(){return c(tt.target,s,a),c(tt.element,s,a)}),{top:H,left:b}}})}.call(this),function(){var e,t,n,r;r=this.Tether.Utils,t=r.getBounds,n=r.updateClasses,e=r.defer,this.Tether.modules.push({position:function(r){var i,o,s,a,c,l,u,h,f,d,p,m,g,v,b,y,w,S,C,E,R,_,T,x,N,k=this;if(p=r.top,l=r.left,R=this.cache("element-bounds",function(){return t(k.element)}),c=R.height,m=R.width,d=this.getTargetBounds(),a=p+c,u=l+m,i=[],p<=d.bottom&&a>=d.top)for(_=["left","right"],g=0,w=_.length;w>g;g++)h=_[g],((T=d[h])===l||T===u)&&i.push(h);if(l<=d.right&&u>=d.left)for(x=["top","bottom"],v=0,S=x.length;S>v;v++)h=x[v],((N=d[h])===p||N===a)&&i.push(h);for(s=[],o=[],f=["left","top","right","bottom"],s.push(this.getClass("abutted")),b=0,C=f.length;C>b;b++)h=f[b],s.push(""+this.getClass("abutted")+"-"+h);for(i.length&&o.push(this.getClass("abutted")),y=0,E=i.length;E>y;y++)h=i[y],o.push(""+this.getClass("abutted")+"-"+h);return e(function(){return n(k.target,o,s),n(k.element,o,s)}),!0}})}.call(this),function(){this.Tether.modules.push({position:function(e){var t,n,r,i,o,s,a;return s=e.top,t=e.left,this.options.shift?(n=function(e){return"function"==typeof e?e.call(this,{top:s,left:t}):e},r=n(this.options.shift),"string"==typeof r?(r=r.split(" "),r[1]||(r[1]=r[0]),o=r[0],i=r[1],o=parseFloat(o,10),i=parseFloat(i,10)):(a=[r.top,r.left],o=a[0],i=a[1]),s+=o,t+=i,{top:s,left:t}):void 0}})}.call(this),this.Tether})},function(e,t,n){"use strict";var r,i=n(47),o=Array.prototype.forEach,s=Object.create,a=Object.getPrototypeOf;r=function(e,t){var n=a(e);return i(n?r(n,t):t,e)},e.exports=function(){var e=s(null);return o.call(arguments,function(t){null!=t&&r(Object(t),e)}),e}},function(e){"use strict";e.exports=function(e){return"function"==typeof e}},function(e,t,n){"use strict";e.exports=n(50)()?Object.assign:n(51)},function(e,t,n){var r,i;(function(e){var o=o||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(e){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in r,o=function(n){var r=t.createEvent("MouseEvents");r.initMouseEvent("click",!0,!1,e,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(r)},s=e.webkitRequestFileSystem,a=e.requestFileSystem||s||e.mozRequestFileSystem,c=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},l="application/octet-stream",u=0,h=10,f=function(t){var r=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()};e.chrome?r():setTimeout(r,h)},d=function(e,t,n){t=[].concat(t);for(var r=t.length;r--;){var i=e["on"+t[r]];if("function"==typeof i)try{i.call(e,n||e)}catch(o){c(o)}}},p=function(t,c){var h,p,m,g=this,v=t.type,b=!1,y=function(){d(g,"writestart progress write writeend".split(" "))},w=function(){if((b||!h)&&(h=n().createObjectURL(t)),p)p.location.href=h;else{var r=e.open(h,"_blank");void 0==r&&"undefined"!=typeof safari&&(e.location.href=h)}g.readyState=g.DONE,y(),f(h)},S=function(e){return function(){return g.readyState!==g.DONE?e.apply(this,arguments):void 0}},C={create:!0,exclusive:!1};return g.readyState=g.INIT,c||(c="download"),i?(h=n().createObjectURL(t),r.href=h,r.download=c,o(r),g.readyState=g.DONE,y(),void f(h)):(e.chrome&&v&&v!==l&&(m=t.slice||t.webkitSlice,t=m.call(t,0,t.size,l),b=!0),s&&"download"!==c&&(c+=".download"),(v===l||s)&&(p=e),a?(u+=t.size,void a(e.TEMPORARY,u,S(function(e){e.root.getDirectory("saved",C,S(function(e){var n=function(){e.getFile(c,C,S(function(e){e.createWriter(S(function(n){n.onwriteend=function(t){p.location.href=e.toURL(),g.readyState=g.DONE,d(g,"writeend",t),f(e)},n.onerror=function(){var e=n.error;e.code!==e.ABORT_ERR&&w()},"writestart progress write abort".split(" ").forEach(function(e){n["on"+e]=g["on"+e]}),n.write(t),g.abort=function(){n.abort(),g.readyState=g.DONE},g.readyState=g.WRITING}),w)}),w)};e.getFile(c,{create:!1},S(function(e){e.remove(),n()}),S(function(e){e.code===e.NOT_FOUND_ERR?n():w()}))}),w)}),w)):void w())},m=p.prototype,g=function(e,t){return new p(e,t)};return m.abort=function(){var e=this;e.readyState=e.DONE,d(e,"abort")},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,g}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);
"undefined"!=typeof e&&null!==e?e.exports=o:null!==n(54)&&null!=n(55)&&(r=[],i=function(){return o}.apply(t,r),!(void 0!==i&&(e.exports=i)))}).call(t,n(57)(e))},function(e,t,n){"use strict";e.exports=n(52)()?String.prototype.contains:n(53)},function(e){"use strict";e.exports=function(){var e,t=Object.assign;return"function"!=typeof t?!1:(e={foo:"raz"},t(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},function(e,t,n){"use strict";var r=n(58),i=n(56),o=Math.max;e.exports=function(e,t){var n,s,a,c=o(arguments.length,2);for(e=Object(i(e)),a=function(r){try{e[r]=t[r]}catch(i){n||(n=i)}},s=1;c>s;++s)t=arguments[s],r(t).forEach(a);if(void 0!==n)throw n;return e}},function(e){"use strict";var t="razdwatrzy";e.exports=function(){return"function"!=typeof t.contains?!1:t.contains("dwa")===!0&&t.contains("foo")===!1}},function(e){"use strict";var t=String.prototype.indexOf;e.exports=function(e){return t.call(this,e,arguments[1])>-1}},function(e){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e){"use strict";e.exports=function(e){if(null==e)throw new TypeError("Cannot use null or undefined");return e}},function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,n){"use strict";e.exports=n(59)()?Object.keys:n(60)},function(e){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},function(e){"use strict";var t=Object.keys;e.exports=function(e){return t(null==e?e:Object(e))}}]);