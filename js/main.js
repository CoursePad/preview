!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){function r(){var t,e=i.getSelectedTerm();t=e?Promise.resolve(e):i.getRemoteTerms().then(function(t){var n=h.sortTerms(Object.keys(t),!0);return e=n[0]});var n=i.getScheduleIndex()||0;return t.then(function(t){return c.setCurrentSchedule(t,n)})}var i=n(1),o=n(4),s=n(5),a=n(6),c=(n(2),n(3)),l=(n(9),n(7)),u=n(8),h=n(10),d=n(11),f=n(12);n(13),React.render(React.createElement(o,null),document.getElementById("calendar")),React.render(React.createElement(s,null),document.getElementById("topsearch")),React.render(React.createElement(a,null),document.getElementById("utilities")),React.render(React.createElement(l,null),document.getElementById("term-selector")),React.render(React.createElement(u,null),document.getElementById("sidebar")),d(),f(),i.upgradeSchema(),n(14),$(function(){r()})},function(t,e,n){var r=n(35),i=n(23),o=n(15);const s=1;var a=r({getSelectedTerm:function(){return i.get("current_term")},setSelectedTerm:function(t){i.set("current_term",t)},getScheduleIndex:function(){return i.get("current_schedule_index")},getLocalTerms:function(){var t=i.get("terms")||{};if(Array.isArray(t)){var e={},n={fa14:1410981659,sp15:1414178138};t.forEach(function(t){e[t]=n[t]}),t=e,i.set("terms",e)}return t},addLocalTerm:function(t,e){i.get("terms",Object)[t]=e,i.fsync("terms")},getRemoteTerms:function(){return this.getRemoteMeta().then(function(t){return t.roster_time})},getRemoteMeta:function(){return new Promise(function(t){$.get(o.db("meta.json"),function(e){t(e)})})},upgradeSchema:function(){var t=i.get("meta_version",void 0);void 0===t?i.set("meta_version",s):s>t&&i.set("meta_version",s)}});t.exports=a},function(t,e,n){function r(){}function i(t){if(null!==f&&f.term===t)return Promise.resolve(!1);m.ready=!1,m.emit("readystatechange");var e;return e=h.getLocalTerms().hasOwnProperty(t)?Promise.resolve():s(t),e.then(function(){return f=new r,f.term=t,f.titleIndex=[],u.getByKey("title_typeahead_index",t)}).then(function(e){void 0!==e&&f.setTitleIndex(e),h.setSelectedTerm(t),m.ready=!0,m.emit("readystatechange")})}function o(){return f}function s(t,e){return e||(e=function(){}),new Promise(function(n,r){$.ajax({url:l.db("term_db_"+t+".json"),beforeSend:function(){},error:function(t,e){r(e)},success:function(i){var o=Object.create(null);u.queryObjectStore("roster",function(e){if(i.roster)for(var n=0;n<i.roster.length;n++){var r=i.roster[n];r.term=t,e.add(r),o[r.sub+r.nbr+": "+r.title]=[r.sub,r.nbr]}},"readwrite").then(function(){return u.queryObjectStore("subjects",function(e){if(i.subjects)for(var n=0;n<i.subjects.length;n++){var r=i.subjects[n];r.term=t,e.add(r)}},"readwrite")}).then(function(){var e={term:t,index:[]};for(var n in o)e.index.push({title:n,course:o[n]});return u.add("title_typeahead_index",e)}).then(function(){h.addLocalTerm(t,i.time),e(1),n(!0)}).then(null,function(t){r(t)})},dataType:"json"})})}function a(){var t=o();if(t&&t.term){var e=t.term;return h.getRemoteTerms().then(function(t){var n=h.getLocalTerms();return t[e]>n[e]?d.getJson(l.db("version_history.json")).then(function(t){var r=t.term_db[e],i=r.indexOf(n[e]);if(0>i)throw new Error("cannot find history");for(var o=r.slice(i),s=[],a=0;a<o.length-1;a++)s.push(d.getJson(l.db("diffs/diff_termdb_"+e+"_"+o[a]+"_"+o[a+1]+".json")));return Promise.all(s)}).then(function(t){return{term:e,diffs:t}}).then(null,function(t){}):!1})}return Promise.resolve(!1)}var c=n(35),l=n(15),u=n(24),h=n(1),d=n(16),f=null,p=n(25);r.prototype.getCoursesBySubjectAndNumber=function(t,e){var n;return u.queryAllByIndex("roster","course",IDBKeyRange.only([this.term,t,e])).then(function(t){return t.map(function(t){return new p(t)})}).then(function(t){return n=t,[]}).then(function(){return n})},r.prototype.searchByKeyword=function(t,e){var n,r,i=[],o=e?e:this.titleIndex,s=t.toLowerCase().split(/ /).filter(function(t){return t.length>0});for(n=0;n<o.length;n++){var a=o[n].titleLower,c=[],l=[0,-1],u=0,h=!0;for(r=0;r<s.length;r++){var d=s[r],f=a.indexOf(d,u);if(0>f){h=!1;break}l[1]==f?l[1]=f+d.length:(l=[f,f+d.length],c.push(l)),u=f+d.length}if(h){var p=e?o[n]:$.extend({},o[n]);p.segments=c,i.push(p)}}return i.sort(function(t,e){return t.segments[0][0]-e.segments[0][0]||t.title.localeCompare(e.title)}),i},r.prototype.setTitleIndex=function(t){this.titleIndex=[],t.index.forEach(function(t){t.titleLower=t.title.toLowerCase(),this.titleIndex.push(t)},this)},r.prototype.applyUpdates=function(t){var e=this;if(t.term!=this.term)return Promise.resolve(!1);var n=t.term;this.titleIndex=[];for(var r=u.delete("title_typeahead_index",n),i=0;i<t.diffs.length;i++)!function(t){if(t.roster&&(r=r.then(function(){var e=t.roster;return u.queryObjectStore("roster",function(t){var r;if(e.added)for(r=0;r<e.added.length;r++)e.added[r].term=n,t.add(e.added[r]);if(e.deleted)for(r=0;r<e.deleted.length;r++)t.delete(e.deleted[r]);if(e.modified)for(r=0;r<e.modified.length;r++)e.modified[r].term=n,t.put(e.modified[r])},"readwrite")})),t.subjects){var e=t.subjects;r=r.then(function(){function t(t){var e=Object.create(null);return t&&t.forEach(function(t){e[t.sub]=t}),e}var r=t(e.modified),i=Object.create(null);return e.deleted&&e.deleted.forEach(function(t){i[t]=!0}),u.queryObjectStore("subjects",function(t){var o=t.index("term");if(o.openCursor(IDBKeyRange.only(n)).onsuccess=function(t){var e=t.target.result;e&&(r[e.value.sub]?(r[e.value.sub].term=n,e.update(r[e.value.sub])):i[e.value.sub]&&e.delete(),e.continue())},e.added)for(var s=0;s<e.added.length;s++)e.added[s].term=n,t.add(e.added[s])},"readwrite")})}r=r.then(function(){h.addLocalTerm(n,t.time)})}(t.diffs[i]);var o=Object.create(null),s={term:n,index:[]};return r=r.then(function(){return u.queryObjectStore("roster",function(t){t.index("term").openCursor().onsuccess=function(t){var e=t.target.result;if(e){var n=e.value.sub+e.value.nbr;o[n]||(o[n]={title:e.value.sub+e.value.nbr+": "+e.value.title,course:[e.value.sub,e.value.nbr]}),e.continue()}}})}).then(function(){for(var t in o)s.index.push(o[t]);return u.add("title_typeahead_index",s)}).then(function(){e.setTitleIndex(s)}).then(null,function(t){})};var m=new c({ready:!1,setCurrentTerm:i,getCurrentTerm:o,loadTerm:s,checkForUpdates:function(){var t=this;a().then(function(e){e!==!1&&t.emit("updateAvailable",e)})}});t.exports=m},function(t,e,n){function r(){this.colorMapping={},this.basket=[],this.sections=[],this.hidden={},this.color="#979797",this.name="My Schedule",this.uniqueId=Math.floor(4294967295*Math.random()),this._conflictCache=null}var i=n(35),o=n(17),s=n(26),a=n(2),c=(n(24),n(23)),l=n(18),u=n(27),h=i({ready:!1,setCurrentSchedule:function(t,e){var n=this;if(this.currentSchedule){if(!(void 0!==t&&this.currentSchedule.term!==t||void 0!==e&&this.currentSchedule.index!==e))return Promise.resolve(!1);n.ready=!1,n.emit("readystatechange")}void 0===t&&(t=this.currentSchedule.term),void 0===e&&(e=0);var i,o=!1;return void 0===t||a.getCurrentTerm()&&a.getCurrentTerm().term==t?i=Promise.resolve():(i=a.setCurrentTerm(t),o=!0),i.then(function(){return n.currentSchedule=new r,n.currentSchedule.term=t,n.currentSchedule.index=e,n.currentSchedule.load()}).then(function(){n.ready=!0,n.emit("readystatechange"),o&&a.checkForUpdates()})},getCurrentSchedule:function(){return this.currentSchedule},getNewScheduleNameAndColor:function(){var t=this.getCurrentSchedule(),e=t.term+"_schedules",n=(c.get(e,Array),Object.create(null)),r=Object.create(null);this.getAllSchedules().forEach(function(t){n[t.name]=!0,r[t.color]=!0});for(var i,o=1;;){if(i="Schedule ("+o+")",!n[i])break;o++}for(var s,a=1/8,u=0;;){if(s=l.hsvToHex(u,.25,.54),!r[s])break;u+=a,u>=1&&(a/=2,u=a)}return{name:i,color:s}},withStorageList:function(t,e){void 0===e&&(e=null);var n=this.getCurrentSchedule(),r=n.term+"_schedules",i=c.get(r,Array),o=t.call(e,i);return c.fsync(r),o.emit&&this.emit(o.emit),o.value?o.value:void 0},renameSchedule:function(t,e){this.withStorageList(function(n){return n[t].name=e,{emit:"listchange"}})},deleteSchedule:function(t){this.withStorageList(function(e){var n=this.getCurrentSchedule();if(n.index===t)throw new Error;return e.splice(t,1),t<n.index&&n.index--,{emit:"listchange"}},this)},addSchedule:function(t,e){var n=this.getCurrentSchedule(),r=n.term+"_schedules",i=c.get(r,Array);i.push({color:e,name:t,uniqueId:Math.floor(4294967295*Math.random())}),c.fsync(r),this.emit("listchange")},getAllSchedules:function(){var t=this.getCurrentSchedule();if(!t)return null;var e=t.term+"_schedules",n=c.get(e,Array),r=n.map(function(e,n){return{color:e.color,name:e.name,isCurrent:n===t.index,uniqueId:e.uniqueId}});return r}}),d=["lavender","blue","cyan","applegreen","beryl","green","pink","purple","yellow","pearl"];r.prototype.setVisibility=function(t,e){this.hidden[t]=!e,this.persistSections(),this._onChange()},r.prototype.toggleVisibility=function(t){this.setVisibility(t,!this.getVisibility(t)),u.sevent("course","toggle_visibility",t)},r.prototype.getVisibility=function(t){return!this.hidden[t]},r.prototype.getVisibleClusters=function(){return this.basket.filter(function(t){return!this.hidden[t[0].getNumber()]},this)},r.prototype.getVisibleMeetings=function(){var t=[];return this.getVisibleSections().forEach(function(e){t.push.apply(t,e.meetings)}),t},r.prototype._onChange=function(){this._conflictCache=null,h.emit("change")},r.prototype.findCourseInBasketById=function(t){for(var e=0;e<this.basket.length;e++)for(var n=0;n<this.basket[e].length;n++)if(this.basket[e][n].id==t)return this.basket[e][n];return null},r.prototype.findSectionInBasketByNumber=function(t){for(var e=0;e<this.basket.length;e++)for(var n=0;n<this.basket[e].length;n++){var r=this.basket[e][n].findSectionByNumber(t);if(r)return r}return null},r.prototype.removeCourseByNumber=function(t){for(var e=0;e<this.basket.length;e++)if(this.basket[e].length&&this.basket[e][0].getNumber()==t){this.basket.splice(e,1);break}this.sections=this.sections.filter(function(e){return e.parent.getNumber()!==t}),delete this.hidden[t],delete this.colorMapping[t],this.persistSections(),this._onChange()},r.prototype.changeSection=function(t,e){var n,r;if(void 0===e){if(n=this.findSectionInBasketByNumber(t),!n)return!1;var i=n.parent.sections[n.type];for(r=0;r<this.sections.length&&!(i.indexOf(this.sections[r])>-1);r++);if(r===this.sections.length){var o=null,s=this.getSelectedCourseIdsHash();t:for(var a=0;a<this.basket.length;a++)if(this.basket[a].indexOf(n.parent)>-1)for(var c=0;c<this.basket[a].length;c++)if(s[this.basket[a][c].id]){o=this.basket[a][c];break t}if(!o)return!1;for(this._changeCourse(n.parent,o),r=0;r<this.sections.length&&(this.sections[r].parent!=n.parent||this.sections[r].type!=n.type);r++);if(r==this.sections.length)return!1}}else{for(r=0;r<this.sections.length&&this.sections[r].number!=e;r++);if(r===this.sections.length)return!1;var l=this.sections[r];if(n=this.sections[r].parent.findSectionByNumber(t),!n){if(n=this.findSectionInBasketByNumber(t),!n)return!1;for(this._changeCourse(n.parent,l.parent),r=0;r<this.sections.length&&(this.sections[r].parent!=n.parent||this.sections[r].type!=n.type);r++);if(r===this.sections.length)return!1}}return this.sections[r]=n,this.persistSections(),this._onChange(),!0},r.prototype.changeCourse=function(t,e){this._changeCourse(t,e),this.persistSections(),this._onChange()},r.prototype._changeCourse=function(t,e){var n,r;if(isNaN(t)||(t=this.findCourseInBasketById(t)),void 0===e){var i=this.getSelectedCourseIdsHash();t:for(n=0;n<this.basket.length;n++)if(this.basket[n].indexOf(t)>-1)for(r=0;r<this.basket[n].length;r++)if(i[this.basket[n][r].id]){e=this.basket[n][r];break t}if(void 0===e)return!1}else isNaN(e)||(e=this.findCourseInBasketById(e));var o=Object.create(null),s=this.sections.filter(function(t){return t.parent==e?(o[t.type]=t,!1):!0});for(var a in t.sections)if(t.sections.hasOwnProperty(a)){var c=o[a];if(c){var l=!1;if(c.meetings.length>0)for(n=0;n<t.sections[a].length;n++){var u=t.sections[a][n];if(u.meetings.length>0&&u.meetings[0].startTime==c.meetings[0].startTime&&u.meetings[0].pattern==c.meetings[0].pattern){l=!0,s.push(u);break}}l||s.push(t.sections[a][0])}else s.push(t.sections[a][0])}this.sections=s},r.prototype.addCluster=function(t){this.basket.push(t);for(var e in t[0].sections)t[0].sections.hasOwnProperty(e)&&this.sections.push(t[0].sections[e][0]);this.colorMapping[t[0].getNumber()]=function(){for(var t=0;t<d.length;t++){l=d[t],found=!1;for(var e in this.colorMapping)if(this.colorMapping[e]==l){found=!0;break}if(!found)return l}return d[Math.floor(Math.random()*d.length)]}.call(this)},r.prototype.addCourse=function(t,e){for(var n,r=this,i=0;i<this.basket.length;i++)if(this.basket[i][0].subject==t&&this.basket[i][0].number==e){n=this.basket[i];break}return n?Promise.resolve(!1):a.getCurrentTerm().getCoursesBySubjectAndNumber(t,e).then(function(n){return r.addCluster(n),r.persistSections(),r._onChange(),u.sevent("course","add",t+" "+e),!0})},r.prototype.getStoreKey=function(){return this.term+"_schedules"},r.prototype.getColorForCourse=function(t,e){return this.colorMapping[t+" "+e]},r.prototype.serializeSections=function(){return this.sections.map(function(t){return t.number})},r.prototype.serializeBasket=function(){return this.basket.map(function(t){return t[0].subject+" "+t[0].number})},r.prototype.persistSections=function(){void 0===c.get(this.getStoreKey(),Array)[this.index]&&(c.get(this.getStoreKey(),Array)[this.index]={});var t=c.get(this.getStoreKey())[this.index];t.sections=this.serializeSections(),t.basket=this.serializeBasket(),t.colorMapping=$.extend({},this.colorMapping),t.hidden=$.extend({},this.hidden),t.color=this.color,t.name=this.name,t.uniqueId=this.uniqueId,c.fsync(this.getStoreKey())},r.prototype.getAlternateMeetings=function(t,e){function n(e){return e.pattern==t.pattern&&e.startTime==t.startTime&&e.endTime==t.endTime}void 0===e&&(e="difftime");var r=[],i=t.parent.parent,o=t.parent.type,s=null;if(o===i.getPrimarySectionType())for(var a=0;a<this.basket.length;a++){var c=this.basket[a];if(c[0].subject==i.subject&&c[0].number==i.number){s=c;break}}return t.parent.parent.sections[o].forEach(function(i){i!=t.parent&&i.meetings.some(n)==("sametime"==e)&&r.push.apply(r,i.meetings)}),s&&s.length>1&&s.forEach(function(t){t!=i&&t.sections[o].forEach(function(t){t.meetings.some(n)==("sametime"==e)&&r.push.apply(r,t.meetings)})}),r},r.prototype.load=function(){var t=this,e=c.get(this.getStoreKey(),Array)[this.index];return void 0===e?(this.basket=[],this.sections=[],Promise.resolve(!1)):(this.colorMapping=e.colorMapping||{},this.hidden=e.hidden||{},e.color&&(this.color=e.color),e.name&&(this.name=e.name),e.uniqueId&&(this.uniqueId=e.uniqueId),Promise.resolve().then(function(){var t=e.basket?e.basket.slice():[];return Promise.all(t.map(function(t){var e=t.split(" ");return 2!=e.length?null:a.getCurrentTerm().getCoursesBySubjectAndNumber(e[0],+e[1])}))}).then(function(n){n=n.filter(function(t){return Array.isArray(t)&&t.length>0}),t.basket=n;var r={},i={};n.forEach(function(t){r[t[0].getNumber()]={}});var o=e.sections||[];return t.sections=o.map(function(t){for(var e=0;e<n.length;e++)for(var o=0;o<n[e].length;o++){var s=n[e][o].findSectionByNumber(t);if(s){var a=n[e][o].getNumber();return r[a].hasOwnProperty(s.type)||i[a]&&i[a].id!==n[e][o].id?null:(r[a][s.type]=!0,i[a]=n[e][o],s)}}return null}).filter(function(t){return null!==t}),n.forEach(function(e){var n,o=e[0].getNumber(),s={};i[o]?(n=i[o],s=r[o]):n=e[0];for(var a in n.sections)n.sections.hasOwnProperty(a)&&(s.hasOwnProperty(a)||t.sections.push(n.sections[a][0]))}),t.persistSections(),!0}))},r.prototype.termDBUpdated=function(){var t=this;return this.persistSections(),this.load().then(function(){t._onChange()})},r.prototype.getSelectedCourseIdsHash=function(){var t=Object.create(null);return this.sections.forEach(function(e){t[e.parent.id]=!0}),t},r.prototype.getSelectedSectionIdsHash=function(){var t=Object.create(null);return this.sections.forEach(function(e){t[e.number]=!0}),t},r.prototype.getVisibleSections=function(){return this.sections.filter(function(t){return!this.hidden[t.parent.getNumber()]},this)},r.prototype.getConflictIntervals=function(){if(null===this._conflictCache){for(var t=[],e=this.getVisibleSections(),n=0;n<e.length;n++)for(var r=0;n>r;r++)t.push.apply(t,s.conflictIntervals(e[n].meetings,e[r].meetings));this._conflictCache=s.normalizeIntervals(t)}return this._conflictCache},r.prototype.getBasicInfo=function(){var t=this.getVisibleSections(),e=[];t.forEach(function(t){for(var n=0;n<e.length;n++)if(e[n]===t.parent)return;e.push(t.parent)});var n=[0,0],r=0;return e.forEach(function(t){n[0]+=t.units[0],n[1]+=t.units.length>1?t.units[1]:t.units[0]}),t.forEach(function(t){t.meetings.forEach(function(t){t.startTime&&t.endTime&&(r+=o.bitmaskToDay(t.pattern).length*(o.timeStringToHour(t.endTime)-o.timeStringToHour(t.startTime)))})}),{units:n,classes:e.length,hours:r}},t.exports=h},function(t,e,n){var r=n(19),i=n(20),o=n(21),s=n(3),a=n(17),c=React.createClass({displayName:"DropoffSet",getInitialState:function(){return{dropoffs:[]}},render:function(){var t=[];return this.state.dropoffs.forEach(function(e){t.push(i(e))}),React.createElement("div",null,t)}}),l=React.createClass({displayName:"Calendar",minTime:8,maxTime:22,getMeetingContainer:function(){return this.refs.container.getDOMNode()},getInitialState:function(){return{meetings:[],dropoffs:[],conflicts:[],needWeekend:!1}},componentDidMount:function(){s.on("change",this._onScheduleChange),s.on("readystatechange",this._onScheduleReadyStateChange)},componentWillUnmount:function(){s.off("change",this._onScheduleChange),s.off("readystatechange",this._onScheduleReadyStateChange)},_onScheduleReadyStateChange:function(){s.ready&&this._onScheduleChange()},_onScheduleChange:function(){this.setSchedule(s.getCurrentSchedule())},_onDragStartHandler:function(t){var e=s.getCurrentSchedule().getAlternateMeetings(t);if(e){var n=this._splitMeetings(e);n.forEach(function(t){t.times=t.meeting.parent.meetings.map(function(t){return a.bitmaskToDay(t.pattern)+" "+t.startTime+"–"+t.endTime})}),this.refs.dropoffset.setState({dropoffs:n})}},_onDragStopHandler:function(){this.refs.dropoffset.setState({dropoffs:[]})},_splitMeetings:function(t){var e=[],n="MTWRFSU";return t.forEach(function(t){if(t.startTime&&t.endTime){var r=a.timeStringToHour(t.startTime),i=a.timeStringToHour(t.endTime)-r,o=t.startTime+" – "+t.endTime,s=t.building;t.room&&(s+=" "+t.room);for(var c=t.parent.parent.subject+" "+t.parent.parent.number,l=0;7>l;l++)t.pattern&1<<l&&e.push({key:t.parent.number+"-"+l,nbr:t.parent.number,title:c,location:s,time:o,day:n[l],st_offset:r-8,length:i,meeting:t})}},this),e},setSchedule:function(t){var e=t.getVisibleMeetings(),n=this._splitMeetings(e);n.forEach(function(e){e.color=t.getColorForCourse(e.meeting.parent.parent.subject,e.meeting.parent.parent.number),e.dragStartHandler=this._onDragStartHandler.bind(this,e.meeting),e.dragStopHandler=this._onDragStopHandler.bind(this,e.meeting)},this);var r=t.getVisibleClusters().some(function(t){return t.some(function(t){return t.getAllSections().some(function(t){return t.meetings.some(function(t){return 96&t.pattern})})})});this.setState({meetings:n,conflicts:t.getConflictIntervals(),needWeekend:r})},render:function(){for(var t=[],e=this.minTime,n=this.maxTime,i=e;n>=i;i++){var s=i>=12?"p":"a",l=i>12?i-12:i,u=""+l+":00"+s,h="cal-stripe";h+=(i-e)%2===0?" odd":" even",t.push(React.createElement("div",{className:h,key:i},React.createElement("div",{className:"cal-time"},u)))}var d=[];this.state.meetings.forEach(function(t){d.push(r(t))});var f=this.state.needWeekend,p=this.state.conflicts.map(function(t){return React.createElement(o,{key:t.startTimeHrs.toFixed(1)+"-"+t.pattern,day:a.bitmaskToDay(t.pattern),st_offset:t.startTimeHrs-this.minTime,length:t.endTimeHrs-t.startTimeHrs})},this);return React.createElement("div",{className:"cal-inner",ref:"container"},React.createElement("div",{className:"cal-meetings"},React.createElement("div",{className:"cal-meetings-inner"+(f?" cal-meetings-inner-fullweek":"")},d,React.createElement(c,{ref:"dropoffset"}),React.createElement("div",{id:"conflict-overlay"},p))),React.createElement("div",{className:"cal-stripes"},t))}});t.exports=l},function(t,e,n){var r=n(2),i=n(3),o=React.createClass({displayName:"SearchBar",componentWillMount:function(){i.on("readystatechange",this.termDBReadyStateChange)},componentDidUnmount:function(){i.off("readystatechange",this.termDBReadyStateChange)},termDBReadyStateChange:function(){this.setState({available:i.ready})},getInitialState:function(){return{available:i.ready}},renderItem:function(t,e){for(var n=$("<li />"),r=$("<p />"),i=0;i<e.segments.length;i++)r.append(document.createTextNode(e.title.slice(0===i?0:e.segments[i-1][1],e.segments[i][0]))),r.append($("<em />").text(e.title.slice(e.segments[i][0],e.segments[i][1])));return e.segments.length>0&&r.append(document.createTextNode(e.title.slice(e.segments[e.segments.length-1][1]))),n.append(r),t.append(n),n},dataSource:function(t,e){var n=r.getCurrentTerm();n&&e(n.searchByKeyword(t.term))},componentDidMount:function(){$(this.getDOMNode()).autocomplete({minLength:2,source:this.dataSource,select:function(t,e){i.getCurrentSchedule().addCourse(e.item.course[0],e.item.course[1])}}).autocomplete("instance")._renderItem=this.renderItem},render:function(){return React.createElement("input",{type:"text",autoComplete:"off",disabled:!this.state.available,placeholder:this.state.available?"Search for Class (e.g. CS3110; Intro to Photography)":"Loading Available Classes..."})}});t.exports=o},function(t,e,n){var r=n(28),i=n(29),o=n(30),s=React.createClass({displayName:"Sidebar",render:function(){return React.createElement("div",null,React.createElement(r,null),React.createElement(i,null),React.createElement(o,null))}});t.exports=s},function(t,e,n){var r=n(39),i=n(1),o=n(2),s=n(3),a=n(10),c=React.createClass({displayName:"TermList",getInitialState:function(){return{remoteTerms:null,localTerms:[]}},componentWillMount:function(){var t=this;i.getRemoteTerms().then(function(e){t.setState({remoteTerms:Object.keys(e),localTerms:Object.keys(i.getLocalTerms())})})},render:function(){var t,e=this.state.localTerms||[],n=a.sortTerms(this.state.remoteTerms||this.state.localTerms||[]);return t=0===n.length?React.createElement("li",{className:"loading"},"Loading Terms..."):n.map(function(t){e.indexOf(t)>-1;return React.createElement("li",{className:"clickable menuitem",onClick:this.props.clickHandler.bind(null,t),key:t},a.getTermName(t))},this),React.createElement("div",{className:"menu",ref:"menu"},React.createElement("ul",null,t))}}),l=React.createClass({displayName:"TermSelector",getInitialState:function(){return{currentTerm:null,ready:!1}},componentWillMount:function(){o.on("readystatechange",this.termDBReadyStateChange)},componentDidUnmount:function(){o.off("readystatechange",this.termDBReadyStateChange)},termDBReadyStateChange:function(){this.setState({currentTerm:o.getCurrentTerm(),ready:o.ready})},componentDidMount:function(){var t=React.createElement(c,{clickHandler:this._click});this.menu=new r({target:this.refs.selector.getDOMNode(),content:t,position:"bottom center",openOn:"click",constrainToWindow:!0,tetherOptions:{constraints:[{to:"scrollParent",pin:!0}]}})},_click:function(t){s.setCurrentSchedule(t),this.menu.close()},render:function(){var t="Semester";return this.state.currentTerm&&(t=a.getTermName(this.state.currentTerm.term),this.state.ready||(t+="...")),React.createElement("div",null,React.createElement("span",{ref:"selector",className:"clickable"},t," ▾"))}});t.exports=l},function(t,e,n){var r=n(3),i=React.createClass({displayName:"ScheduleIcon",render:function(){var t=this.props.color,e=this.props.fill?t:"transparent";return React.createElement("svg",{className:"schedule-logo",width:"17",height:"17",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},React.createElement("rect",{x:"0.5",y:"0.5",width:"16",height:"4",fill:e,stroke:t,"stroke-width":"1"}),React.createElement("rect",{x:"0.5",y:"6.5",width:"7",height:"4",fill:e,stroke:t,"stroke-width":"1"}),React.createElement("rect",{x:"0.5",y:"12.5",width:"7",height:"4",fill:e,stroke:t,"stroke-width":"1"}),React.createElement("rect",{x:"9.5",y:"6.5",width:"7",height:"4",fill:e,stroke:t,"stroke-width":"1"}),React.createElement("rect",{x:"9.5",y:"12.5",width:"7",height:"4",fill:e,stroke:t,"stroke-width":"1"}))}}),o=React.createClass({displayName:"ScheduleLine",getInitialState:function(){return{name:this.props.name,editing:!!this.props.editing}},_onInputChange:function(t){this.setState({name:t.target.value})},_onSave:function(){this.props.onSave(this.state.name,this.props.color),this.setState({editing:!1})},_onEdit:function(t){this.setState({editing:!0},this._focusIfNeeded),t.stopPropagation()},_onDelete:function(){this.props.onDelete()},_onClick:function(){this.props.onClick()},_onKeyUp:function(t){13==t.keyCode&&this._onSave()},_focusIfNeeded:function(){if(this.state.editing){var t=this.refs.input.getDOMNode();t.focus(),t.select()}},componentDidMount:function(){this._focusIfNeeded()},render:function(){var t;t=this.state.editing?React.createElement("input",{type:"text",value:this.state.name,onKeyUp:this._onKeyUp,onChange:this._onInputChange,ref:"input"}):this.state.name;var e=[];return!this.state.editing||this.props.isCurrent||this.props.editing||e.push(React.createElement("div",{onClick:this._onDelete,className:"glyphicon glyphicon-trash clickable"})),e.push(React.createElement("div",{onClick:this.state.editing?this._onSave:this._onEdit,className:(this.state.editing?"glyphicon-floppy-disk":"glyphicon-pencil")+" glyphicon clickable"})),React.createElement("li",{onClick:this.state.editing?null:this._onClick,className:this.state.editing?"":"clickable"},React.createElement(i,{color:this.props.color,fill:this.props.isCurrent}),React.createElement("div",{className:"schedule-listing-content"},t),React.createElement("div",{className:"schedule-listing-edit-opts"},e))}}),s=React.createClass({displayName:"LeftBar",_onHover:function(){$("#main-container").addClass("schedules-open")},_onOut:function(){$("#main-container").removeClass("schedules-open")},getInitialState:function(){return{schedules:null,creating:!1}},componentDidMount:function(){var t=function(){r.ready&&this.setState({schedules:r.getAllSchedules()})}.bind(this);r.on("readystatechange",t),r.on("listchange",t)},_addSchedule:function(){this.setState({creating:!0})},_saveNewSchedule:function(t,e){r.addSchedule(t,e),this.setState({creating:!1})},_saveExistingSchedule:function(t,e){r.renameSchedule(t,e)},_onClick:function(t){r.setCurrentSchedule(void 0,t)},_onDelete:function(t){r.deleteSchedule(t)},render:function(){var t=[],e=this.state.schedules;if(e)if(t=e.map(function(t,e){return React.createElement(o,{name:t.name,color:t.color,isCurrent:t.isCurrent,editing:!1,onSave:this._saveExistingSchedule.bind(null,e),onClick:this._onClick.bind(null,e),onDelete:this._onDelete.bind(null,e),key:t.uniqueId})},this),this.state.creating){var n=r.getNewScheduleNameAndColor();t.push(React.createElement(o,{name:n.name,color:n.color,isCurrent:!1,editing:!0,onSave:this._saveNewSchedule,key:"new-edit"}))}else t.push(React.createElement("li",{onClick:this._addSchedule,className:"clickable",key:"new"},React.createElement("div",{className:"schedule-logo add"}),React.createElement("div",{className:"schedule-listing-content"},"Add a Schedule")));return React.createElement("div",{id:"sidebar-inner",onMouseOver:this._onHover,onMouseOut:this._onOut},React.createElement("h3",null,"MY SCHEDULES"),React.createElement("ul",{className:"schedule-listing"},t))}});t.exports=s},function(t,e,n){function r(){var t=c.getCurrentSchedule();return t.basket.map(function(t){return t.map(function(t){var e=[];for(var n in t.sections)t.sections.hasOwnProperty(n)&&e.push(t.sections[n].map(function(t){return t.meetings.map(function(e){return{startTimeHrs:e.startTimeHrs,endTimeHrs:e.endTimeHrs,pattern:e.pattern,section:t.number}})}));return e})})}function i(){for(var t=r(),e=[],n=0;o(t,e);){if(a(t,e,n))return;n=e.length}}function o(t,e){var n=!1;return t.forEach(function(t){1==t.length&&t[0].forEach(function(t){1==t.length&&(e.push(t.pop()),n=!0)})}),n}function s(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(void 0!==r.startTimeHrs)for(var i=0;i<e.length;i++){var o=e[i];if(void 0!==o.startTimeHrs&&r.pattern&o.pattern&&r.endTimeHrs>o.startTimeHrs&&r.startTimeHrs<o.endTimeHrs)return!0}}return!1}function a(t,e){for(var n=t.length,r=e.length,i=0;n>i;i++)for(var o=t[i],a=0;a<o.length;a++)for(var c=o[a],l=0;l<c.length;l++){var u=c[l];if(0!==u.length){for(var h=0;h<u.length;){for(var d=u[h],f=!1,p=0;r>p;p++)if(s(d,e[p])){f=!0;break}f?u.splice(h,1):h++}if(0===u.length)return!0}}return!1}var c=n(3);window.test=i,window.arrayForSchedule=r},function(t){t.exports={sectionTypePriorities:["LEC","SEM","IND","DIS","LAB","RSC","CLN"],getSectionType:function(){},sortTerms:function(t,e){var n={fa:1,sp:3};return t.sort(function(t,r){return(e?-1:1)*(+t.slice(2)-r.slice(2)||n[t.slice(0,2)]-n[r.slice(0,2)])})},getTermName:function(t){function e(t){return 50>t?2e3+t:1900+t}var n={fa:"Fall",sp:"Spring"};return n[t.slice(0,2)]+" "+e(+t.slice(2))}}},function(t,e,n){var r=n(32),i=n(23),o=n(31);t.exports=function(){void 0===i.get("meta_version")&&o.show(React.createElement(r,null))}},function(t,e,n){var r=n(31),i=n(23),o=n(33);t.exports=function(){i.get("dont-warn-unsupported-browser")||(window.indexedDB?navigator&&navigator.userAgent.indexOf("Safari")>-1&&-1==navigator.userAgent.indexOf("Chrome")&&r.show(React.createElement(o,{reason:"safari"})):r.show(React.createElement(o,{reason:"feature"})))}},function(t,e,n){var r=n(24);window.nuke=function(){if(window.confirm("Will reset local database. YOU WILL LOSE ALL DATA. Are you sure you want to continue?")){window.localStorage.clear();var t=3,e=function(){var n=window.indexedDB.deleteDatabase("coursepad");n.onsuccess=function(){alert("Reset success")},n.onerror=function(){alert("Cannot delete database")},n.onblocked=function(){--t>0&&window.setTimeout(e,100)}};r.close().then(function(){window.setTimeout(e,100)})}}},function(t,e,n){function r(){i.stop("updateAvailable")}var i=n(22),o=n(34),s=n(2);s.on("updateAvailable",function(t){i.show(React.createElement(o,{updates:t,onFinish:r}),"updateAvailable")}),s.on("readystatechange",function(){s.ready||i.stop("updateAvailable")})},function(t){t.exports={db:function(t){return"/static/data/"+t}}},function(t){function e(t){return new Promise(function(e,n){$.ajax($.extend({success:function(t){e(t)},error:function(t,e,r){n(r)}},t))})}function n(t){var n={url:t,dataType:"json"};return e(n)}t.exports={ajax:e,getJson:n}},function(t,e){e.timeStringToHour=function(t){var e=t.match(/(\d+):(\d+) ?(.+)/);if(e){var n=parseInt(e[1],10),r=n+parseInt(e[2],10)/60,i=e[3][0].toLowerCase();return 12==n&&"a"==i?r-=12:12!=n&&"p"==i&&(r+=12),r}};e.bitmaskToDay=function(t){for(var e="",n="MTWRFSU",r=0;7>r;r++)t&1<<r&&(e+=n[r]);return e}},function(t,e){e.hsvToHex=function(t,e,n){var r,i,o,s,a,c,l,u;switch(t&&void 0===e&&void 0===n&&(e=t.s,n=t.v,t=t.h),s=Math.floor(6*t),a=6*t-s,c=n*(1-e),l=n*(1-a*e),u=n*(1-(1-a)*e),s%6){case 0:r=n,i=u,o=c;break;case 1:r=l,i=n,o=c;break;case 2:r=c,i=n,o=u;break;case 3:r=c,i=l,o=n;break;case 4:r=u,i=c,o=n;break;case 5:r=n,i=c,o=l}return"#"+Math.floor(255*r).toString(16)+Math.floor(255*i).toString(16)+Math.floor(255*o).toString(16)}},function(t,e,n){var r=n(36),i=n(3),o=React.createClass({displayName:"SingleMeeting",longMeetingThreshold:1.2,mixins:[r],componentDidMount:function(){if(this._hasAlternative){var t=this;$(this.refs.meeting.getDOMNode()).draggable({revert:"invalid",containment:this._owner.getMeetingContainer(),stop:function(t,e){e.helper.css("left","")}}).on("mousedown",function(){$(document).one("mouseup",function(){t.props.dragStopHandler()
}),t.props.dragStartHandler()})}},render:function(){this._hasAlternative=!!i.getCurrentSchedule().getAlternateMeetings(this.props.meeting).length;var t="meeting "+this.getClassName();this._hasAlternative&&(t+=" mutable"),this.props.length>this.longMeetingThreshold&&(t+=" meeting-long"),t+=" "+this.props.color;var e=this.getLayoutStyle();return React.createElement("div",{style:e,className:t,ref:"meeting","data-nbr":this.props.nbr},React.createElement("p",{className:"meeting-title"},this.props.title),React.createElement("p",{className:"meeting-time"},this.props.time),React.createElement("p",{className:"meeting-loc"},this.props.location))}});t.exports=o},function(t,e,n){var r=n(3),i=n(36),o=n(27),s=React.createClass({displayName:"MeetingDropoff",mixins:[i],componentDidMount:function(){var t=this;$(this.refs.dropoff.getDOMNode()).droppable({drop:function(e,n){t.onDropped(n.draggable.attr("data-nbr"))},greedy:!0,over:function(){t._onHover()},out:function(){t._onHoverEnd()}})},onDropped:function(t){r.getCurrentSchedule().changeSection(this.props.nbr,t),o.sevent("course","change_section_drop",t+"->"+this.props.nbr)},_onHover:function(){$(".mtdropoff-"+this.props.nbr).addClass("mtdropoff-highlight")},_onHoverEnd:function(){$(".mtdropoff-"+this.props.nbr).removeClass("mtdropoff-highlight")},render:function(){var t=this.props.times,e=this.getLayoutStyle();Array.isArray(t)||(t=[t]);var n="mtdropoff mtdropoff-"+this.props.nbr+" "+this.getClassName();return React.createElement("div",{className:n,style:e,ref:"dropoff"},React.createElement("div",{className:"mtdropoff-inner"},t.map(function(t){return React.createElement("p",{className:"mtdropoff-time"},t)}),React.createElement("p",{className:"mtdropoff-loc"},this.props.location)))}});t.exports=s},function(t,e,n){var r=n(36),i=React.createClass({displayName:"ConflictIndicator",mixins:[r],render:function(){return React.createElement("div",{className:"conflict-indicator "+this.getClassName(),style:this.getLayoutStyle()})}});t.exports=i},function(t,e){var n;e.show=function(t,e){n=e,React.render(t,document.getElementById("banner-container"))},e.stop=function(t){n==t&&(React.unmountComponentAtNode(document.getElementById("banner-container")),n=void 0)}},function(t){function e(t,e){return i.hasOwnProperty(t)||(void 0!==window.localStorage[t]?i[t]=JSON.parse(window.localStorage[t]):void 0!==e&&(i[t]="function"==typeof e?new e:e)),i[t]}function n(t,e){i[t]=e,r(t)}function r(t){window.localStorage[t]=JSON.stringify(i[t])}t.exports={get:e,set:n,fsync:r};var i={}},function(t,e){function n(){return void 0===p&&(p=new Promise(function(t){var e=window.indexedDB.open("coursepad",m);e.onsuccess=function(e){db=e.target.result,t(db)},e.onupgradeneeded=function(t){0===t.oldVersion?o(t.target.result):i(t.target.transaction,t.oldVersion)}})),p}function r(){return n().then(function(t){t.close()})}function i(t,e){switch(e){case 1:t.objectStore("subjects").createIndex("term","term",{unique:!1});case 2:var n=t.db.createObjectStore("title_typeahead_index",{keyPath:"term"}),r=Object.create(null);t.objectStore("title_index").openCursor().onsuccess=function(e){var i,o=e.target.result;if(o){var s=o.value;i=s.term,delete s.term,void 0===r[i]&&(r[i]={term:i,index:[]}),r[i].index.push(s),o.continue()}else{t.db.deleteObjectStore("title_index");for(i in r)n.add(r[i])}}}}function o(t){var e=t.createObjectStore("roster",{keyPath:"id"});e.createIndex("term","term",{unique:!1}),e.createIndex("course",["term","sub","nbr"],{unique:!1}),e.createIndex("subject",["term","sub"],{unique:!1});var n=t.createObjectStore("subjects",{autoIncrement:!0});n.createIndex("subject",["term","sub"],{unique:!1}),n.createIndex("term","term",{unique:!1}),t.createObjectStore("title_typeahead_index",{keyPath:"term"})}function s(t,e,r){return void 0===r&&(r="readonly"),n().then(function(n){return new Promise(function(i,o){var s=n.transaction([t],r),a=s.objectStore(t);e(a),s.oncomplete=function(){i(!0)},s.onerror=function(t){o(t)}})})}function a(t,e,r,i,o){return n().then(function(n){return new Promise(function(s){var a=n.transaction([t],o);a.objectStore(t).index(e).openKeyCursor(r).onsuccess=function(t){var e=t.target.result;e&&(i(e),e.continue())},a.oncomplete=function(){s(!0)}})})}function c(t,e,r,i){return n().then(function(n){return new Promise(function(o){var s=n.transaction([t]);s.objectStore(t).index(e).openCursor(r).onsuccess=function(t){var e=t.target.result;if(e){var n=e.value;i(n),e.continue()}},s.oncomplete=function(){o(!0)}})})}function l(t,e,n){var r=[];return c(t,e,n,function(t){r.push(t)}).then(function(){return r})}function u(t,e){return n().then(function(n){return new Promise(function(r){n.transaction([t]).objectStore(t).get(e).onsuccess=function(t){r(t.target.result)}})})}function h(t,e){return n().then(function(n){return new Promise(function(r){result=new Array(e.length);for(var i=n.transaction([t]),o=i.objectStore(t),s=0;s<e.length;s++)!function(t){o.get(e[t]).onsuccess=function(e){result[t]=e.target.result}}(s);i.oncomplete=function(){r(result)}})})}function d(t,e,r){return n().then(function(n){return new Promise(function(i){var o=n.transaction([t],"readwrite"),s=o.objectStore(t);void 0===r?s.add(e):s.add(e,r),o.oncomplete=function(){i(!0)}})})}function f(t,e){return n().then(function(n){return new Promise(function(r,i){var o=n.transaction([t],"readwrite"),s=o.objectStore(t);s.delete(e),o.oncomplete=function(){r(!0)},o.onerror=function(t){i(t.target.error)}})})}var p,m=3;e.open=n,e.close=r,e.keyCursorByIndex=a,e.queryByIndex=c,e.queryAllByIndex=l,e.getByKey=u,e.getByKeys=h,e.queryObjectStore=s,e.add=d,e.delete=f},function(t,e,n){function r(t,e){this.startTime=e.st,this.endTime=e.et,this.startDate=e.sd,this.endDate=e.ed,this.pattern=e.ptn,this.building=e.bldg,this.room=e.rm,this.professors=e.profs,this.startTime&&(this.startTimeHrs=s.timeStringToHour(this.startTime)),this.endTime&&(this.endTimeHrs=s.timeStringToHour(this.endTime)),this.parent=t}function i(t,e,n){this.number=n.nbr,this.sec=n.sec,this.parent=t,this.type=e,this.meetings=n.mt?n.mt.map(function(t){return new r(this,t)},this):[]}function o(t){this.id=t.id,this.number=t.nbr,this.subject=t.sub,this.title=t.title,this.units=t.unit||[0],this.sections={};for(var e in t.secs)t.secs.hasOwnProperty(e)&&(this.sections[e]=t.secs[e].map(function(t){return new i(this,e,t)},this))}var s=n(17);r.prototype.getAlternateMeetings=function(){var t=[],e=this.parent.type;return this.parent.parent.sections[e].forEach(function(e){e!=this.parent&&t.push.apply(t,e.meetings)},this),t};var a=["LEC","SEM","IND","DIS","LAB"];o.prototype.getNumber=function(){return this.subject+" "+this.number},o.prototype.getPrimarySectionType=function(){for(var t=0;t<a.length;t++)if(this.sections.hasOwnProperty(a[t]))return a[t];for(var e in this.sections)if(this.sections.hasOwnProperty(e))return e},o.prototype.getNumberOfTypes=function(){var t=0;for(var e in this.sections)this.sections.hasOwnProperty(e)&&t++;return t},o.prototype.getAllSections=function(){var t=[];for(var e in this.sections)this.sections.hasOwnProperty(e)&&t.push.apply(t,this.sections[e]);return t},o.prototype.findSectionByNumber=function(t){for(var e in this.sections)if(this.sections.hasOwnProperty(e))for(var n=this.sections[e],r=0;r<n.length;r++)if(n[r].number==t)return n[r];return null},t.exports=o},function(t,e){function n(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r];if(void 0!==i.startTimeHrs)for(var o=0;o<e.length;o++){var s=e[o];void 0!==s.startTimeHrs&&i.pattern&s.pattern&&i.endTimeHrs>s.startTimeHrs&&i.startTimeHrs<s.endTimeHrs&&n.push({pattern:i.pattern&s.pattern,startTimeHrs:Math.max(i.startTimeHrs,s.startTimeHrs),endTimeHrs:Math.min(i.endTimeHrs,s.endTimeHrs)})}}return n}function r(t){var e=Object.create(null);t.forEach(function(t){for(var n=1;128>n;n<<=1)t.pattern&n&&(n in e||(e[n]=[]),e[n].push({pattern:n,startTimeHrs:t.startTimeHrs,endTimeHrs:t.endTimeHrs}))});var n=[];for(var r in e)if(0!==e[r].length){e[r].sort(function(t,e){return t.startTimeHrs-e.startTimeHrs}),n.push(e[r][0]);for(var i=1;i<e[r].length;i++){var o=n[n.length-1].endTimeHrs;o<e[r][i].startTimeHrs?n.push(e[r][i]):n[n.length-1].endTimeHrs=Math.max(o,e[r][i].endTimeHrs)}}return n}e.conflictIntervals=n,e.normalizeIntervals=r},function(t,e){function n(){if(!i){if(!window.ga)return;i=window.ga.bind(window,"send","event")}i.apply(null,arguments)}function r(t){if(!o){if(!window.ga)return;o=window.ga.bind(window,"send","exception")}o(t.toString())}var i=null,o=null;e.sevent=n,e.serror=r},function(t,e,n){var r=n(3),i=n(27),o=React.createClass({displayName:"BasicInfo",componentWillMount:function(){r.on("readystatechange",this._onReadyStateChange),r.on("change",this._update)},componentDidUnmount:function(){r.off("readystatechange",this._onReadyStateChange),r.off("change",this._update)},_onReadyStateChange:function(){r.ready?this._update():this.setState(this.getInitialState())},_update:function(){var t=r.getCurrentSchedule().getBasicInfo();t.conflicts=r.getCurrentSchedule().getConflictIntervals().length>0,this.setState(t)},_toggleAlwaysShowConflicts:function(){var t=!this.state.showConflicts;this.setState({showConflicts:t}),t?this._showConflicts():this._hideConflicts(),i.sevent("basicinfo","toggle_always_conflict")},_mouseoverConflict:function(){this._showConflicts(),i.sevent("basicinfo","hover_show_conflict")},_showConflicts:function(){$("#conflict-overlay").addClass("show")},_hideConflicts:function(){$("#conflict-overlay").removeClass("show")},_hideConflictsIfNotPinned:function(){this.state.showConflicts||this._hideConflicts()},getInitialState:function(){return{units:[0,0],classes:0,hours:0,conflicts:!1,showConflicts:!1}},render:function(){var t=null;this.state.conflicts&&(t=React.createElement("div",{className:"basic-info-conflict",onMouseOver:this._mouseoverConflict,onMouseOut:this._hideConflictsIfNotPinned,onClick:this._toggleAlwaysShowConflicts},React.createElement("p",null,"Note: this schedule has conflicts"),React.createElement("p",null,React.createElement("small",null,this.state.showConflicts?"Click to remove highlight":"Hover to highlight conflicts"))));var e=this.state.units[0]!=this.state.units[1];return React.createElement("div",{className:"basic-info-container"+(this.state.conflicts?" conflicts":"")},React.createElement("div",{className:"basic-info-stats"},React.createElement("div",{className:"basic-info"},React.createElement("p",{className:"basic-info-value total-credit"+(e?" total-credit-range":"")},e?this.state.units[0]+"-"+this.state.units[1]:this.state.units[0]),React.createElement("p",{className:"basic-info-title"},"UNITS")),React.createElement("div",{className:"basic-info"},React.createElement("p",{className:"basic-info-value total-classes"},this.state.classes),React.createElement("p",{className:"basic-info-title"},this.state.classes>1?"CLASSES":"CLASS")),React.createElement("div",{className:"basic-info"},React.createElement("p",{className:"basic-info-value weekly-hours"},Math.round(10*this.state.hours)/10),React.createElement("p",{className:"basic-info-title"},this.state.hours>1?"HRS/WK":"HR/WK")),React.createElement("div",{style:{clear:"both"}})),t)}});t.exports=o},function(t,e,n){var r=n(3),i=n(27),o=n(39),s=React.createClass({displayName:"SelectionIndicator",render:function(){return React.createElement("div",{className:"selected-indicator"+(this.props.selected?" selected":"")+(this.props.action&&!this.props.selected?" selectable":""),onClick:this.props.selected?null:this.props.action}," ")}}),a=React.createClass({displayName:"Basket",componentWillMount:function(){r.on("readystatechange",this._onReadyStateChange),r.on("change",this._update)},componentDidUnmount:function(){r.off("readystatechange",this._onReadyStateChange),r.off("change",this._update)},_onReadyStateChange:function(){r.ready?this._update():this.setState(this.getInitialState())},_update:function(){this.setState({clusters:r.getCurrentSchedule().basket,sections:r.getCurrentSchedule().sections,hidden:r.getCurrentSchedule().hidden})},getInitialState:function(){return{clusters:[],sections:[],hidden:{},expansion:{}}},_toggleExpansion:function(t){var e=this.state.expansion;e[t]=!e[t],this.setState({expansion:e}),i.sevent("basket","toggle_expansion",t)},_toggleVisibility:function(t){r.getCurrentSchedule().toggleVisibility(t)},_deleteCourse:function(t){r.getCurrentSchedule().removeCourseByNumber(t)},_toggleMenu:function(t,e){var n,r=document.createElement("div");r.className="menu";var i=document.createElement("ul");r.appendChild(i);var s=document.createElement("li");s.className="clickable menuitem",s.innerHTML="Delete",s.addEventListener("click",function(){n.close(),this._deleteCourse(t)}.bind(this)),i.appendChild(s),n=new o({target:e.target,openOn:"now",destroy:!0,position:"bottom right",content:r,constrainToWindow:!0,tetherOptions:{constraints:[{to:"scrollParent",pin:!0}]}})},_changeSectionTo:function(t){r.getCurrentSchedule().changeSection(t),i.sevent("course","change_section_basket_dot",t)},_changeCourseTo:function(t){r.getCurrentSchedule().changeCourse(t),i.sevent("course","change_course_basket_dot",t)},render:function(){var t=this,e=null,n=r.getCurrentSchedule();if(n){var i=n.getSelectedSectionIdsHash(),o=n.getSelectedCourseIdsHash();e=this.state.clusters.map(function(e){function r(e){return e.map(function(e){return React.createElement("div",{className:"content level-2"},React.createElement(s,{selected:i[e.number],action:t._changeSectionTo.bind(null,e.number)}),e.type+" "+e.sec)},this)}var a=e[0].getNumber(),c=null,l=n.getColorForCourse(e[0].subject,e[0].number),u=!this.state.hidden[a];if(u||(l+=" invisible"),this.state.expansion[a])if(1===e.length){var h=e[0].getAllSections();c=r(h)}else c=e.map(function(e){var n=e.getAllSections(),i=null;return n.length>1&&(i=r(n)),React.createElement("div",{className:"content level-2"},React.createElement(s,{selected:o[e.id],action:t._changeCourseTo.bind(null,e)}),e.subject+" "+e.number,i)});var d=a+": "+e[0].title;return React.createElement("div",{className:"basket-item "+l},React.createElement("div",{className:"content"},React.createElement("div",{className:"content-buttons"},React.createElement("div",{"aria-role":"button",className:"btn menu-btn",onClick:this._toggleMenu.bind(null,a)}),React.createElement("div",{"aria-role":"button",className:"btn visibility-btn"+(u?"":" closed"),onClick:this._toggleVisibility.bind(null,a)}),React.createElement("div",{"aria-role":"button",className:"btn expand-btn"+(this.state.expansion[a]?" expanded":""),onClick:this._toggleExpansion.bind(null,a)})),React.createElement("div",{className:"content-title",title:d},d)),c)},this)}return React.createElement("div",{className:"basket utilities-item"},React.createElement("h2",null,"Basket"),e)}});t.exports=a},function(t,e,n){var r=n(37),i=n(38),o=n(31),s=React.createClass({displayName:"Tools",_showClassNumbers:function(){o.show(React.createElement(r,null))},_importExport:function(){o.show(React.createElement(i,null))},render:function(){return React.createElement("div",{className:"tools utilities-item"},React.createElement("h2",null,"Tools"),React.createElement("ul",null,React.createElement("li",null,React.createElement("a",{href:"javascript:;",onClick:this._showClassNumbers},"Show Class Numbers")),React.createElement("li",null,React.createElement("a",{href:"javascript:;",onClick:this._importExport},"Import / Export"))))}});t.exports=s},function(t){function e(t){r&&n(),r=!0,$("body").addClass("modal-open"),$(".modal-container").removeClass("hidden"),React.render(t,$(".modal-window").get(0))}function n(){r=!1,$("body").removeClass("modal-open"),$(".modal-container").addClass("hidden"),React.unmountComponentAtNode($(".modal-window").get())}var r=!1;t.exports={show:e,stop:n}},function(t,e,n){var r=n(31),i=React.createClass({displayName:"SplashScreen",_close:function(){r.stop()},render:function(){return React.createElement("div",{className:"splash-screen"},React.createElement("div",{className:"splash-screen-header"}),React.createElement("div",{className:"splash-screen-inner"},React.createElement("h2",null,"Welcome to CoursePad.me"),React.createElement("p",null,"CoursePad.me is the new way to schedule your courses at Cornell."),React.createElement("p",null,React.createElement("em",null,"Note:")," we store all your schedules in your browser. Please do not clear browsing history or use CoursePad.me in incognito mode, or you will lose your data."),React.createElement("div",{className:"splash-screen-item-container"},React.createElement("div",{className:"splash-screen-item"},React.createElement("div",{className:"splash-screen-fast-img"}),React.createElement("h3",null,"Fast and Powerful"),React.createElement("p",null,"Drag and drop between different time options. See live statistics. Highlight conflicts. All done in fraction of a second. CoursePad.me provides you the tools you need to create an optimal schedule.")),React.createElement("div",{className:"splash-screen-item"},React.createElement("div",{className:"splash-screen-247-img"}),React.createElement("h3",null,"Never Down"),React.createElement("p",null,"CoursePad.me stores all your data on your own computer and don't need to constantly talk to the server. So it will never break down during pre-enroll, exactly when you need it the most.")),React.createElement("div",{className:"splash-screen-item"},React.createElement("div",{className:"splash-screen-support-img"}),React.createElement("h3",null,"Actively Supported"),React.createElement("p",null,"CoursePad.me is under active development, with new features being added constantly. Want something to happen? Shoot an email to feedback@coursepad.me, and we'll do our best.")),React.createElement("div",{className:"clearboth"})),React.createElement("div",{className:"start-using-btn-container"},React.createElement("div",{className:"start-using-btn",onClick:this._close},"Start Using CoursePad.me"))))}});t.exports=i},function(t,e,n){var r=n(31),i=n(23),o=React.createClass({displayName:"UnsupportedBrowserWarning",_close:function(){this.refs["dont-warn"].getDOMNode().checked&&i.set("dont-warn-unsupported-browser",!0),r.stop()},render:function(){var t,e,n=!1;return"safari"==this.props.reason?(t="You Seem to be using Safari, but...",e=React.createElement("div",null,React.createElement("p",null,"Safari has a bug that made CoursePad.me slower than usual. It may take you five to ten minutes to download all classes the first time you select a semester, and several seconds each time you open the website."),React.createElement("p",null,"You may choose to continue, or you may use one of our supported browsers: ",React.createElement("a",{href:"https://www.google.com/chrome/"},"Chrome")," or ",React.createElement("a",{href:"http://www.firefox.com"},"Firefox"))),n=!0):"feature"==this.props.reason&&(t="Your Browser is Too Old",e=React.createElement("div",null,React.createElement("p",null,"CoursePad.me uses latest web technologies to deliver seamless experience, and therefore need a newer browser to function."),React.createElement("p",null,"We strongly recommend that you download the latest version of ",React.createElement("a",{href:"https://www.google.com/chrome/"},"Chrome")," or ",React.createElement("a",{href:"http://www.firefox.com"},"Firefox")),React.createElement("p",null,"You may continue anyway, but CoursePad.me may not work."))),React.createElement("div",{className:"modal-window-inner unsupported-browser"},React.createElement("div",{className:"sadface"},":-("),React.createElement("div",{className:"unsupported-browser-content"},React.createElement("h3",null,t),e,React.createElement("div",null,React.createElement("input",{type:"checkbox",ref:"dont-warn",id:"dontwarn",defaultChecked:n,onChange:this._onChange}),React.createElement("label",{htmlFor:"dontwarn"},"Don't warn me again")),React.createElement("div",{className:"close-btn-container"},React.createElement("div",{className:"close-btn",onClick:this._close},"Close"))))}});t.exports=o},function(t,e,n){var r=n(3),i=n(2),o=React.createClass({displayName:"UpdateAvailable",getInitialState:function(){return{updating:!1}},_update:function(){var t=this;this.setState({updating:!0}),i.getCurrentTerm().applyUpdates(this.props.updates).then(function(){return r.getCurrentSchedule().termDBUpdated()}).then(function(){t.props.onFinish()})},render:function(){var t;return t=this.state.updating?React.createElement("p",null,"Updating..."):React.createElement("p",null,"Your Current Roster is Out of Date. Click ",React.createElement("a",{href:"javascript:;",onClick:this._update},"Here")," to Update"),React.createElement("div",{className:"banner"},t)}});t.exports=o},function(t,e,n){"use strict";var r,i,o,s,a,c,l,u=n(41),h=n(42),d=Function.prototype.apply,f=Function.prototype.call,p=Object.create,m=Object.defineProperty,g=Object.defineProperties,v=Object.prototype.hasOwnProperty,b={configurable:!0,enumerable:!1,writable:!0};r=function(t,e){var n;return h(e),v.call(this,"__ee__")?n=this.__ee__:(n=b.value=p(null),m(this,"__ee__",b),b.value=null),n[t]?"object"==typeof n[t]?n[t].push(e):n[t]=[n[t],e]:n[t]=e,this},i=function(t,e){var n,i;return h(e),i=this,r.call(this,t,n=function(){o.call(i,t,n),d.call(e,this,arguments)}),n.__eeOnceListener__=e,this},o=function(t,e){var n,r,i,o;if(h(e),!v.call(this,"__ee__"))return this;if(n=this.__ee__,!n[t])return this;if(r=n[t],"object"==typeof r)for(o=0;i=r[o];++o)(i===e||i.__eeOnceListener__===e)&&(2===r.length?n[t]=r[o?0:1]:r.splice(o,1));else(r===e||r.__eeOnceListener__===e)&&delete n[t];return this},s=function(t){var e,n,r,i,o;if(v.call(this,"__ee__")&&(i=this.__ee__[t]))if("object"==typeof i){for(n=arguments.length,o=new Array(n-1),e=1;n>e;++e)o[e-1]=arguments[e];for(i=i.slice(),e=0;r=i[e];++e)d.call(r,this,o)}else switch(arguments.length){case 1:f.call(i,this);break;case 2:f.call(i,this,arguments[1]);break;case 3:f.call(i,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,o=new Array(n-1),e=1;n>e;++e)o[e-1]=arguments[e];d.call(i,this,o)}},a={on:r,once:i,off:o,emit:s},c={on:u(r),once:u(i),off:u(o),emit:u(s)},l=g({},c),t.exports=e=function(t){return null==t?p(l):g(Object(t),c)},e.methods=a},function(t){var e={unitHeight:65,getLayoutStyle:function(){return{top:this.unitHeight*this.props.st_offset,height:this.unitHeight*this.props.length}},getClassName:function(){return"calele calele-"+this.props.day.toLowerCase()}};t.exports=e},function(t,e,n){var r=n(3),i=n(10),o=n(31),s=React.createClass({displayName:"ClassNumbers",componentDidMount:function(){r.on("change",this._onScheduleChange),r.on("readystatechange",this._onScheduleReadyStateChange)},componentWillUnmount:function(){r.off("change",this._onScheduleChange),r.off("readystatechange",this._onScheduleReadyStateChange)},_onScheduleReadyStateChange:function(){r.ready&&this._onScheduleChange()},_onScheduleChange:function(){this.forceUpdate()},render:function(){var t,e=r.getCurrentSchedule();if(e){var n=Object.create(null),s=Object.create(null);e.getVisibleSections().forEach(function(t){var e=t.parent;n[e.id]=e,s[e.id]||(s[e.id]=Object.create(null)),s[e.id][t.type]=t});var a=Object.keys(s).sort(function(t,e){return n[t].getNumber().localeCompare(n[e].getNumber())});t=a.map(function(t){var e=n[t],r=i.sectionTypePriorities.filter(function(e){return s[t][e]}).map(function(e){var n=s[t][e];return React.createElement("li",null,React.createElement("span",{className:"class-number"},n.number),React.createElement("span",{className:"section-number"},n.type+" "+n.sec))});return React.createElement("li",null,React.createElement("p",{className:"course-title"},e.getNumber()+": "+e.title),React.createElement("ul",{className:"classnumber-section-list"},r))})}else t=null;return React.createElement("div",{className:"classnumber-list"},React.createElement("h2",null,"Class Numbers ",React.createElement("span",{className:"clickable modal-close",onClick:o.stop},"✖")),React.createElement("ul",{className:"classnumber-course-list"},t))}});t.exports=s},function(t,e,n){var r=n(31),i=n(40),o=React.createClass({displayName:"ImportExport",_close:function(){r.stop()},_save:function(){i.export()},_load:function(){var t=this.refs.load.getDOMNode().files;0===t.length?alert("You need to choose a file"):i.import(t[0])},render:function(){return React.createElement("div",{className:"modal-window-inner import-export"},React.createElement("h2",null,"Import / Export Schedule"),React.createElement("h3",null,"Export Schedule"),React.createElement("p",null,"You can save your schedule to a file, in case browser data is cleared"),React.createElement("p",null,React.createElement("div",{className:"btn btn-blue",onClick:this._save},"Save")),React.createElement("hr",null),React.createElement("h3",null,"Import Schedule"),React.createElement("p",null,"You can load your previously saved schedule."),React.createElement("p",null,React.createElement("em",null,"Warning:")," this replaces any schedule you have right now"),React.createElement("div",null,React.createElement("input",{type:"file",ref:"load"}),React.createElement("div",{className:"btn btn-blue",onClick:this._load},"Load")),React.createElement("div",{className:"close-btn-container"},React.createElement("div",{className:"close-btn",onClick:this._close},"Close")))}});t.exports=o},function(t,e,n){(function(){var e,r,i,o,s,a,c,l,u,h,d,f,p,m,g,v,b,y,w=n(43),S={}.hasOwnProperty,C=function(t,e){function n(){this.constructor=t}for(var r in e)S.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},E=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};y=w.Utils,l=y.extend,i=y.addClass,d=y.removeClass,u=y.hasClass,e=y.Evented,g="ontouchstart"in document.documentElement,s=["click"],g&&s.push("touchstart"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"},v="";for(h in b)c=b[h],m=document.createElement("p"),void 0!==m.style[h]&&(v=c);p=function(t){var e,n,r,i;return r=t.split(" "),e=r[0],n=r[1],("left"===e||"right"===e)&&(i=[n,e],e=i[0],n=i[1]),[e,n].join(" ")},r={left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle",center:"center"},o={},f=function(t,e){var n,r;for(r=[];-1!==(n=t.indexOf(e));)r.push(t.splice(n,1));return r},a=function(t){var n,c,h,m;return null==t&&(t={}),h=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(n,arguments,function(){})},l(h,{createContext:a,drops:[],defaults:{}}),c={classPrefix:"drop",defaults:{position:"bottom left",openOn:"click",constrainToScrollParent:!0,constrainToWindow:!0,classes:"",remove:!1,tetherOptions:{}}},l(h,c,t),l(h.defaults,c.defaults,t.defaults),null==o[m=h.classPrefix]&&(o[m]=[]),h.updateBodyClasses=function(){var t,e,n,r,s;for(t=!1,s=o[h.classPrefix],n=0,r=s.length;r>n;n++)if(e=s[n],e.isOpened()){t=!0;break}return t?i(document.body,""+h.classPrefix+"-open"):d(document.body,""+h.classPrefix+"-open")},n=function(e){function n(t){if(this.options=t,this.options=l({},h.defaults,this.options),this.target=this.options.target,null==this.target)throw new Error("Drop Error: You must provide a target.");this.options.classes&&i(this.target,this.options.classes),h.drops.push(this),o[h.classPrefix].push(this),this._boundEvents=[],this.setupElements(),this.setupEvents(),this.setupTether()}return C(n,e),n.prototype._on=function(t,e,n){return this._boundEvents.push({element:t,event:e,handler:n}),t.addEventListener(e,n)},n.prototype.setupElements=function(){return this.drop=document.createElement("div"),i(this.drop,h.classPrefix),this.options.classes&&i(this.drop,this.options.classes),this.content=document.createElement("div"),i(this.content,""+h.classPrefix+"-content"),"object"==typeof this.options.content?React.isValidElement(this.options.content)?React.render(this.options.content,this.content):this.content.appendChild(this.options.content):this.content.innerHTML=this.options.content,this.drop.appendChild(this.content)},n.prototype.setupTether=function(){var e,n;return n=this.options.position.split(" "),n[0]=r[n[0]],n=n.join(" "),e=[],e.push(this.options.constrainToScrollParent?{to:"scrollParent",pin:"top, bottom",attachment:"together none"}:{to:"scrollParent"}),e.push(this.options.constrainToWindow!==!1?{to:"window",attachment:"together"}:{to:"window"}),t={element:this.drop,target:this.target,attachment:p(n),targetAttachment:p(this.options.position),classPrefix:h.classPrefix,offset:"0 0",targetOffset:"0 0",enabled:!1,constraints:e},this.options.tetherOptions!==!1?this.tether=new w(l({},t,this.options.tetherOptions)):void 0},n.prototype.setupEvents=function(){var t,e,n,r,i,o,a,c,l,u,h=this;if(this.options.openOn){if("always"===this.options.openOn)return void setTimeout(this.open.bind(this));if("now"===this.options.openOn&&setTimeout(this.open.bind(this)),n=this.options.openOn.split(" "),E.call(n,"click")>=0||E.call(n,"now")>=0)for(i=function(t){return h.toggle(),t.preventDefault()},e=function(t){return!h.isOpened()||t.target===h.drop||h.drop.contains(t.target)||t.target===h.target||h.target.contains(t.target)?void 0:h.close()},l=0,u=s.length;u>l;l++)t=s[l],this._on(this.target,t,i),this._on(document,t,e);return E.call(n,"hover")>=0?(r=!1,c=function(){return r=!0,h.open()},a=null,o=function(){return r=!1,null!=a&&clearTimeout(a),a=setTimeout(function(){return r||h.close(),a=null},50)},this._on(this.target,"mouseover",c),this._on(this.drop,"mouseover",c),this._on(this.target,"mouseout",o),this._on(this.drop,"mouseout",o)):void 0}},n.prototype.isOpened=function(){return u(this.drop,""+h.classPrefix+"-open")},n.prototype.toggle=function(){return this.isOpened()?this.close():this.open()},n.prototype.open=function(){var t,e,n=this;if(!this.isOpened())return this.drop.parentNode||document.body.appendChild(this.drop),null!=(t=this.tether)&&t.enable(),i(this.drop,""+h.classPrefix+"-open"),i(this.drop,""+h.classPrefix+"-open-transitionend"),setTimeout(function(){return i(n.drop,""+h.classPrefix+"-after-open")}),null!=(e=this.tether)&&e.position(),this.trigger("open"),h.updateBodyClasses()},n.prototype.close=function(){var t,e,n=this;if(this.isOpened())return d(this.drop,""+h.classPrefix+"-open"),d(this.drop,""+h.classPrefix+"-after-open"),this.drop.addEventListener(v,t=function(){return u(n.drop,""+h.classPrefix+"-open")||d(n.drop,""+h.classPrefix+"-open-transitionend"),n.drop.removeEventListener(v,t)}),this.trigger("close"),null!=(e=this.tether)&&e.disable(),h.updateBodyClasses(),this.options.remove?this.remove():this.options.destroy?this.destroy():void 0},n.prototype.remove=function(){var t;return this.close(),null!=(t=this.drop.parentNode)?t.removeChild(this.drop):void 0},n.prototype.position=function(){var t;return this.isOpened()&&null!=(t=this.tether)?t.position():void 0},n.prototype.destroy=function(){var t,e,n,r,i,s,a,c;for(this.remove(),null!=(s=this.tether)&&s.destroy(),a=this._boundEvents,r=0,i=a.length;i>r;r++)c=a[r],t=c.element,e=c.event,n=c.handler,t.removeEventListener(e,n);return this._boundEvents=[],this.tether=null,this.drop=null,this.content=null,this.target=null,f(o[h.classPrefix],this),f(h.drops,this)},n}(e),h};var _=a();t.exports=_,document.addEventListener("DOMContentLoaded",function(){return _.updateBodyClasses()})}).call(this)},function(t,e,n){var r=n(44);e.export=function(){for(var t={localStorage:{}},e=0;e<localStorage.length;e++){var n=localStorage.key(e),i=n.split("_");2==i.length&&"schedules"==i[1]&&(t.localStorage[n]=localStorage.getItem(n))}t.meta_version=+localStorage.getItem("meta_version");var o=new Blob([JSON.stringify(t)],{type:"application/json"});r(o,"coursepad.json")},e.import=function(t){var e=new FileReader;e.onload=function(t){var e=JSON.parse(t.target.result);if(e.localStorage)for(var n in e.localStorage)e.localStorage.hasOwnProperty(n)&&localStorage.setItem(n,e.localStorage[n]);window.location.reload()},e.readAsText(t)}},function(t,e,n){"use strict";var r,i=n(47),o=n(45),s=n(46),a=n(48);r=t.exports=function(t,e){var n,r,s,c,l;return arguments.length<2||"string"!=typeof t?(c=e,e=t,t=null):c=arguments[2],null==t?(n=s=!0,r=!1):(n=a.call(t,"c"),r=a.call(t,"e"),s=a.call(t,"w")),l={value:e,configurable:n,enumerable:r,writable:s},c?i(o(c),l):l
},r.gs=function(t,e,n){var r,c,l,u;return"string"!=typeof t?(l=n,n=e,e=t,t=null):l=arguments[3],null==e?e=void 0:s(e)?null==n?n=void 0:s(n)||(l=n,n=void 0):(l=e,e=n=void 0),null==t?(r=!0,c=!1):(r=a.call(t,"c"),c=a.call(t,"e")),u={get:e,set:n,configurable:r,enumerable:c},l?i(o(l),u):u}},function(t){"use strict";t.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}},function(t,e,n){var r,i;!function(o,s){r=s,i="function"==typeof r?r.call(e,n,e,t):r,!(void 0!==i&&(t.exports=i))}(this,function(){return function(){var t,e,n,r,i,o,s,a,c,l,u,h,d,f,p,m,g,v,b,y={}.hasOwnProperty,w=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},S=[].slice;null==this.Tether&&(this.Tether={modules:[]}),h=function(t){var e,n,r,i,o;if(n=getComputedStyle(t).position,"fixed"===n)return t;for(r=void 0,e=t;e=e.parentNode;){try{i=getComputedStyle(e)}catch(s){}if(null==i)return e;if(/(auto|scroll)/.test(i.overflow+i.overflowY+i.overflowX)&&("absolute"!==n||"relative"===(o=i.position)||"absolute"===o||"fixed"===o))return e}return document.body},g=function(){var t;return t=0,function(){return t++}}(),b={},l=function(t){var e,r,o,s,a;if(o=t._tetherZeroElement,null==o&&(o=t.createElement("div"),o.setAttribute("data-tether-id",g()),i(o.style,{top:0,left:0,position:"absolute"}),t.body.appendChild(o),t._tetherZeroElement=o),e=o.getAttribute("data-tether-id"),null==b[e]){b[e]={},a=o.getBoundingClientRect();for(r in a)s=a[r],b[e][r]=s;n(function(){return b[e]=void 0})}return b[e]},f=null,s=function(t){var e,n,r,i,o,s,a;t===document?(n=document,t=document.documentElement):n=t.ownerDocument,r=n.documentElement,e={},a=t.getBoundingClientRect();for(i in a)s=a[i],e[i]=s;return o=l(n),e.top-=o.top,e.left-=o.left,null==e.width&&(e.width=document.body.scrollWidth-e.left-e.right),null==e.height&&(e.height=document.body.scrollHeight-e.top-e.bottom),e.top=e.top-r.clientTop,e.left=e.left-r.clientLeft,e.right=n.body.clientWidth-e.width-e.left,e.bottom=n.body.clientHeight-e.height-e.top,e},c=function(t){return t.offsetParent||document.documentElement},u=function(){var t,e,n,r,o;return t=document.createElement("div"),t.style.width="100%",t.style.height="200px",e=document.createElement("div"),i(e.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e),r=t.offsetWidth,e.style.overflow="scroll",o=t.offsetWidth,r===o&&(o=e.clientWidth),document.body.removeChild(e),n=r-o,{width:n,height:n}},i=function(t){var e,n,r,i,o,s,a;for(null==t&&(t={}),e=[],Array.prototype.push.apply(e,arguments),a=e.slice(1),o=0,s=a.length;s>o;o++)if(r=a[o])for(n in r)y.call(r,n)&&(i=r[n],t[n]=i);return t},p=function(t,e){var n,r,i,o,s,c;if(null!=t.classList){for(s=e.split(" "),c=[],i=0,o=s.length;o>i;i++)r=s[i],r.trim()&&c.push(t.classList.remove(r));return c}return n=a(t).replace(new RegExp("(^| )"+e.split(" ").join("|")+"( |$)","gi")," "),m(t,n)},e=function(t,e){var n,r,i,o,s;if(null!=t.classList){for(o=e.split(" "),s=[],r=0,i=o.length;i>r;r++)n=o[r],n.trim()&&s.push(t.classList.add(n));return s}return p(t,e),n=a(t)+(" "+e),m(t,n)},d=function(t,e){return null!=t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(a(t))},a=function(t){return t.className instanceof SVGAnimatedString?t.className.baseVal:t.className},m=function(t,e){return t.setAttribute("class",e)},v=function(t,n,r){var i,o,s,a,c,l;for(o=0,a=r.length;a>o;o++)i=r[o],w.call(n,i)<0&&d(t,i)&&p(t,i);for(l=[],s=0,c=n.length;c>s;s++)i=n[s],l.push(d(t,i)?void 0:e(t,i));return l},r=[],n=function(t){return r.push(t)},o=function(){var t,e;for(e=[];t=r.pop();)e.push(t());return e},t=function(){function t(){}return t.prototype.on=function(t,e,n,r){var i;return null==r&&(r=!1),null==this.bindings&&(this.bindings={}),null==(i=this.bindings)[t]&&(i[t]=[]),this.bindings[t].push({handler:e,ctx:n,once:r})},t.prototype.once=function(t,e,n){return this.on(t,e,n,!0)},t.prototype.off=function(t,e){var n,r,i;if(null!=(null!=(r=this.bindings)?r[t]:void 0)){if(null==e)return delete this.bindings[t];for(n=0,i=[];n<this.bindings[t].length;)i.push(this.bindings[t][n].handler===e?this.bindings[t].splice(n,1):n++);return i}},t.prototype.trigger=function(){var t,e,n,r,i,o,s,a,c;if(n=arguments[0],t=2<=arguments.length?S.call(arguments,1):[],null!=(s=this.bindings)?s[n]:void 0){for(i=0,c=[];i<this.bindings[n].length;)a=this.bindings[n][i],r=a.handler,e=a.ctx,o=a.once,r.apply(null!=e?e:this,t),c.push(o?this.bindings[n].splice(i,1):i++);return c}},t}(),this.Tether.Utils={getScrollParent:h,getBounds:s,getOffsetParent:c,extend:i,addClass:e,removeClass:p,hasClass:d,updateClasses:v,defer:n,flush:o,uniqueId:g,Evented:t,getScrollBarSize:u}}.call(this),function(){var t,e,n,r,i,o,s,a,c,l,u,h,d,f,p,m,g,v,b,y,w,S,C,E,_,R,x,T,N,O=[].slice,k=function(t,e){return function(){return t.apply(e,arguments)}};if(null==this.Tether)throw new Error("You must include the utils.js file before tether.js");r=this.Tether,N=r.Utils,m=N.getScrollParent,g=N.getSize,f=N.getOuterSize,h=N.getBounds,d=N.getOffsetParent,l=N.extend,i=N.addClass,C=N.removeClass,R=N.updateClasses,c=N.defer,u=N.flush,p=N.getScrollBarSize,x=function(t,e,n){return null==n&&(n=1),t+n>=e&&e>=t-n},_=function(){var t,e,n,r,i;for(t=document.createElement("div"),i=["transform","webkitTransform","OTransform","MozTransform","msTransform"],n=0,r=i.length;r>n;n++)if(e=i[n],void 0!==t.style[e])return e}(),E=[],S=function(){var t,e,n;for(e=0,n=E.length;n>e;e++)t=E[e],t.position(!1);return u()},v=function(){var t;return null!=(t="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?t:+new Date},function(){var t,e,n,r,i,o,s,a,c;for(e=null,n=null,r=null,i=function(){return null!=n&&n>16?(n=Math.min(n-16,250),void(r=setTimeout(i,250))):null!=e&&v()-e<10?void 0:(null!=r&&(clearTimeout(r),r=null),e=v(),S(),n=v()-e)},a=["resize","scroll","touchmove"],c=[],o=0,s=a.length;s>o;o++)t=a[o],c.push(window.addEventListener(t,i));return c}(),t={center:"center",left:"right",right:"left"},e={middle:"middle",top:"bottom",bottom:"top"},n={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},a=function(n,r){var i,o;return i=n.left,o=n.top,"auto"===i&&(i=t[r.left]),"auto"===o&&(o=e[r.top]),{left:i,top:o}},s=function(t){var e,r;return{left:null!=(e=n[t.left])?e:t.left,top:null!=(r=n[t.top])?r:t.top}},o=function(){var t,e,n,r,i,o,s;for(e=1<=arguments.length?O.call(arguments,0):[],n={top:0,left:0},i=0,o=e.length;o>i;i++)s=e[i],r=s.top,t=s.left,"string"==typeof r&&(r=parseFloat(r,10)),"string"==typeof t&&(t=parseFloat(t,10)),n.top+=r,n.left+=t;return n},b=function(t,e){return"string"==typeof t.left&&-1!==t.left.indexOf("%")&&(t.left=parseFloat(t.left,10)/100*e.width),"string"==typeof t.top&&-1!==t.top.indexOf("%")&&(t.top=parseFloat(t.top,10)/100*e.height),t},y=w=function(t){var e,n,r;return r=t.split(" "),n=r[0],e=r[1],{top:n,left:e}},T=function(){function t(t){this.position=k(this.position,this);var e,n,i,o,s;for(E.push(this),this.history=[],this.setOptions(t,!1),o=r.modules,n=0,i=o.length;i>n;n++)e=o[n],null!=(s=e.initialize)&&s.call(this);this.position()}return t.modules=[],t.prototype.getClass=function(t){var e,n;return(null!=(e=this.options.classes)?e[t]:void 0)?this.options.classes[t]:(null!=(n=this.options.classes)?n[t]:void 0)!==!1?this.options.classPrefix?""+this.options.classPrefix+"-"+t:t:""},t.prototype.setOptions=function(t,e){var n,r,o,s,a,c;for(this.options=t,null==e&&(e=!0),n={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"},this.options=l(n,this.options),a=this.options,this.element=a.element,this.target=a.target,this.targetModifier=a.targetModifier,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),c=["element","target"],o=0,s=c.length;s>o;o++){if(r=c[o],null==this[r])throw new Error("Tether Error: Both element and target must be defined");null!=this[r].jquery?this[r]=this[r][0]:"string"==typeof this[r]&&(this[r]=document.querySelector(this[r]))}if(i(this.element,this.getClass("element")),i(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");return this.targetAttachment=y(this.options.targetAttachment),this.attachment=y(this.options.attachment),this.offset=w(this.options.offset),this.targetOffset=w(this.options.targetOffset),null!=this.scrollParent&&this.disable(),this.scrollParent="scroll-handle"===this.targetModifier?this.target:m(this.target),this.options.enabled!==!1?this.enable(e):void 0},t.prototype.getTargetBounds=function(){var t,e,n,r,i,o,s,a,c;if(null==this.targetModifier)return h(this.target);switch(this.targetModifier){case"visible":return this.target===document.body?{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth}:(t=h(this.target),i={height:t.height,width:t.width,top:t.top,left:t.left},i.height=Math.min(i.height,t.height-(pageYOffset-t.top)),i.height=Math.min(i.height,t.height-(t.top+t.height-(pageYOffset+innerHeight))),i.height=Math.min(innerHeight,i.height),i.height-=2,i.width=Math.min(i.width,t.width-(pageXOffset-t.left)),i.width=Math.min(i.width,t.width-(t.left+t.width-(pageXOffset+innerWidth))),i.width=Math.min(innerWidth,i.width),i.width-=2,i.top<pageYOffset&&(i.top=pageYOffset),i.left<pageXOffset&&(i.left=pageXOffset),i);case"scroll-handle":return c=this.target,c===document.body?(c=document.documentElement,t={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):t=h(c),a=getComputedStyle(c),n=c.scrollWidth>c.clientWidth||"scroll"===[a.overflow,a.overflowX]||this.target!==document.body,o=0,n&&(o=15),r=t.height-parseFloat(a.borderTopWidth)-parseFloat(a.borderBottomWidth)-o,i={width:15,height:.975*r*(r/c.scrollHeight),left:t.left+t.width-parseFloat(a.borderLeftWidth)-15},e=0,408>r&&this.target===document.body&&(e=-11e-5*Math.pow(r,2)-.00727*r+22.58),this.target!==document.body&&(i.height=Math.max(i.height,24)),s=this.target.scrollTop/(c.scrollHeight-r),i.top=s*(r-i.height-e)+t.top+parseFloat(a.borderTopWidth),this.target===document.body&&(i.height=Math.max(i.height,24)),i}},t.prototype.clearCache=function(){return this._cache={}},t.prototype.cache=function(t,e){return null==this._cache&&(this._cache={}),null==this._cache[t]&&(this._cache[t]=e.call(this)),this._cache[t]},t.prototype.enable=function(t){return null==t&&(t=!0),i(this.target,this.getClass("enabled")),i(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParent!==document&&this.scrollParent.addEventListener("scroll",this.position),t?this.position():void 0},t.prototype.disable=function(){return C(this.target,this.getClass("enabled")),C(this.element,this.getClass("enabled")),this.enabled=!1,null!=this.scrollParent?this.scrollParent.removeEventListener("scroll",this.position):void 0},t.prototype.destroy=function(){var t,e,n,r,i;for(this.disable(),i=[],t=n=0,r=E.length;r>n;t=++n){if(e=E[t],e===this){E.splice(t,1);break}i.push(void 0)}return i},t.prototype.updateAttachClasses=function(t,e){var n,r,i,o,s,a,l,u,h,d=this;for(null==t&&(t=this.attachment),null==e&&(e=this.targetAttachment),o=["left","top","bottom","right","middle","center"],(null!=(h=this._addAttachClasses)?h.length:void 0)&&this._addAttachClasses.splice(0,this._addAttachClasses.length),n=null!=this._addAttachClasses?this._addAttachClasses:this._addAttachClasses=[],t.top&&n.push(""+this.getClass("element-attached")+"-"+t.top),t.left&&n.push(""+this.getClass("element-attached")+"-"+t.left),e.top&&n.push(""+this.getClass("target-attached")+"-"+e.top),e.left&&n.push(""+this.getClass("target-attached")+"-"+e.left),r=[],s=0,l=o.length;l>s;s++)i=o[s],r.push(""+this.getClass("element-attached")+"-"+i);for(a=0,u=o.length;u>a;a++)i=o[a],r.push(""+this.getClass("target-attached")+"-"+i);return c(function(){return null!=d._addAttachClasses?(R(d.element,d._addAttachClasses,r),R(d.target,d._addAttachClasses,r),d._addAttachClasses=void 0):void 0})},t.prototype.position=function(t){var e,n,i,c,l,f,m,g,v,y,w,S,C,E,_,R,x,T,N,O,k,I,P,j,M,H,A,B,D,L,W,F,U,z,q,$=this;if(null==t&&(t=!0),this.enabled){for(this.clearCache(),O=a(this.targetAttachment,this.attachment),this.updateAttachClasses(this.attachment,O),e=this.cache("element-bounds",function(){return h($.element)}),M=e.width,i=e.height,0===M&&0===i&&null!=this.lastSize?(L=this.lastSize,M=L.width,i=L.height):this.lastSize={width:M,height:i},P=I=this.cache("target-bounds",function(){return $.getTargetBounds()}),v=b(s(this.attachment),{width:M,height:i}),k=b(s(O),P),l=b(this.offset,{width:M,height:i}),f=b(this.targetOffset,P),v=o(v,l),k=o(k,f),c=I.left+k.left-v.left,j=I.top+k.top-v.top,W=r.modules,H=0,B=W.length;B>H;H++)if(m=W[H],_=m.position.call(this,{left:c,top:j,targetAttachment:O,targetPos:I,attachment:this.attachment,elementPos:e,offset:v,targetOffset:k,manualOffset:l,manualTargetOffset:f,scrollbarSize:T}),null!=_&&"object"==typeof _){if(_===!1)return!1;j=_.top,c=_.left}if(g={page:{top:j,left:c},viewport:{top:j-pageYOffset,bottom:pageYOffset-j-i+innerHeight,left:c-pageXOffset,right:pageXOffset-c-M+innerWidth}},document.body.scrollWidth>window.innerWidth&&(T=this.cache("scrollbar-size",p),g.viewport.bottom-=T.height),document.body.scrollHeight>window.innerHeight&&(T=this.cache("scrollbar-size",p),g.viewport.right-=T.width),(""!==(F=document.body.style.position)&&"static"!==F||""!==(U=document.body.parentElement.style.position)&&"static"!==U)&&(g.page.bottom=document.body.scrollHeight-j-i,g.page.right=document.body.scrollWidth-c-M),(null!=(z=this.options.optimizations)?z.moveElement:void 0)!==!1&&null==this.targetModifier){for(w=this.cache("target-offsetparent",function(){return d($.target)}),E=this.cache("target-offsetparent-bounds",function(){return h(w)}),C=getComputedStyle(w),n=getComputedStyle(this.element),S=E,y={},q=["Top","Left","Bottom","Right"],A=0,D=q.length;D>A;A++)N=q[A],y[N.toLowerCase()]=parseFloat(C["border"+N+"Width"]);E.right=document.body.scrollWidth-E.left-S.width+y.right,E.bottom=document.body.scrollHeight-E.top-S.height+y.bottom,g.page.top>=E.top+y.top&&g.page.bottom>=E.bottom&&g.page.left>=E.left+y.left&&g.page.right>=E.right&&(x=w.scrollTop,R=w.scrollLeft,g.offset={top:g.page.top-E.top+x-y.top,left:g.page.left-E.left+R-y.left})}return this.move(g),this.history.unshift(g),this.history.length>3&&this.history.pop(),t&&u(),!0}},t.prototype.move=function(t){var e,n,r,i,o,s,a,u,h,f,p,m,g,v,b,y,w,S=this;if(null!=this.element.parentNode){u={};for(f in t){u[f]={};for(i in t[f]){for(r=!1,y=this.history,v=0,b=y.length;b>v;v++)if(a=y[v],!x(null!=(w=a[f])?w[i]:void 0,t[f][i])){r=!0;break}r||(u[f][i]=!0)}}e={top:"",left:"",right:"",bottom:""},h=function(t,n){var r,i,o;return(null!=(o=S.options.optimizations)?o.gpu:void 0)===!1?(t.top?e.top=""+n.top+"px":e.bottom=""+n.bottom+"px",t.left?e.left=""+n.left+"px":e.right=""+n.right+"px"):(t.top?(e.top=0,i=n.top):(e.bottom=0,i=-n.bottom),t.left?(e.left=0,r=n.left):(e.right=0,r=-n.right),e[_]="translateX("+Math.round(r)+"px) translateY("+Math.round(i)+"px)","msTransform"!==_?e[_]+=" translateZ(0)":void 0)},o=!1,(u.page.top||u.page.bottom)&&(u.page.left||u.page.right)?(e.position="absolute",h(u.page,t.page)):(u.viewport.top||u.viewport.bottom)&&(u.viewport.left||u.viewport.right)?(e.position="fixed",h(u.viewport,t.viewport)):null!=u.offset&&u.offset.top&&u.offset.left?(e.position="absolute",s=this.cache("target-offsetparent",function(){return d(S.target)}),d(this.element)!==s&&c(function(){return S.element.parentNode.removeChild(S.element),s.appendChild(S.element)}),h(u.offset,t.offset),o=!0):(e.position="absolute",h({top:!0,left:!0},t.page)),o||"BODY"===this.element.parentNode.tagName||(this.element.parentNode.removeChild(this.element),document.body.appendChild(this.element)),g={},m=!1;for(i in e)p=e[i],n=this.element.style[i],""===n||""===p||"top"!==i&&"left"!==i&&"bottom"!==i&&"right"!==i||(n=parseFloat(n),p=parseFloat(p)),n!==p&&(m=!0,g[i]=e[i]);return m?c(function(){return l(S.element.style,g)}):void 0}},t}(),r.position=S,this.Tether=l(T,r)}.call(this),function(){var t,e,n,r,i,o,s,a,c,l,u=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};l=this.Tether.Utils,s=l.getOuterSize,o=l.getBounds,a=l.getSize,r=l.extend,c=l.updateClasses,n=l.defer,e={left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle"},t=["left","top","right","bottom"],i=function(e,n){var r,i,s,a,c,l,u;if("scrollParent"===n?n=e.scrollParent:"window"===n&&(n=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),n===document&&(n=n.documentElement),null!=n.nodeType)for(i=a=o(n),c=getComputedStyle(n),n=[i.left,i.top,a.width+i.left,a.height+i.top],r=l=0,u=t.length;u>l;r=++l)s=t[r],s=s[0].toUpperCase()+s.substr(1),"Top"===s||"Left"===s?n[r]+=parseFloat(c["border"+s+"Width"]):n[r]-=parseFloat(c["border"+s+"Width"]);return n},this.Tether.modules.push({position:function(e){var s,a,l,h,d,f,p,m,g,v,b,y,w,S,C,E,_,R,x,T,N,O,k,I,P,j,M,H,A,B,D,L,W,F,U,z,q,$,Y,V,K,X,J,G,Z,Q,te,ee=this;if(j=e.top,b=e.left,N=e.targetAttachment,!this.options.constraints)return!0;for(R=function(e){var n,r,i,o;for(ee.removeClass(e),o=[],r=0,i=t.length;i>r;r++)n=t[r],o.push(ee.removeClass(""+e+"-"+n));return o},V=this.cache("element-bounds",function(){return o(ee.element)}),v=V.height,M=V.width,0===M&&0===v&&null!=this.lastSize&&(K=this.lastSize,M=K.width,v=K.height),k=this.cache("target-bounds",function(){return ee.getTargetBounds()}),O=k.height,I=k.width,T={},g={},a=[this.getClass("pinned"),this.getClass("out-of-bounds")],X=this.options.constraints,H=0,L=X.length;L>H;H++)m=X[H],m.outOfBoundsClass&&a.push(m.outOfBoundsClass),m.pinnedClass&&a.push(m.pinnedClass);for(A=0,W=a.length;W>A;A++)for(p=a[A],J=["left","top","right","bottom"],B=0,F=J.length;F>B;B++)x=J[B],a.push(""+p+"-"+x);for(s=[],T=r({},N),g=r({},this.attachment),G=this.options.constraints,D=0,U=G.length;U>D;D++){if(m=G[D],P=m.to,l=m.attachment,C=m.pin,null==l&&(l=""),u.call(l," ")>=0?(Z=l.split(" "),f=Z[0],d=Z[1]):d=f=l,h=i(this,P),("target"===f||"both"===f)&&(j<h[1]&&"top"===T.top&&(j+=O,T.top="bottom"),j+v>h[3]&&"bottom"===T.top&&(j-=O,T.top="top")),"together"===f&&(j<h[1]&&"top"===T.top&&("bottom"===g.top?(j+=O,T.top="bottom",j+=v,g.top="top"):"top"===g.top&&(j+=O,T.top="bottom",j-=v,g.top="bottom")),j+v>h[3]&&"bottom"===T.top&&("top"===g.top?(j-=O,T.top="top",j-=v,g.top="bottom"):"bottom"===g.top&&(j-=O,T.top="top",j+=v,g.top="top")),"middle"===T.top&&(j+v>h[3]&&"top"===g.top?(j-=v,g.top="bottom"):j<h[1]&&"bottom"===g.top&&(j+=v,g.top="top"))),("target"===d||"both"===d)&&(b<h[0]&&"left"===T.left&&(b+=I,T.left="right"),b+M>h[2]&&"right"===T.left&&(b-=I,T.left="left")),"together"===d&&(b<h[0]&&"left"===T.left?"right"===g.left?(b+=I,T.left="right",b+=M,g.left="left"):"left"===g.left&&(b+=I,T.left="right",b-=M,g.left="right"):b+M>h[2]&&"right"===T.left?"left"===g.left?(b-=I,T.left="left",b-=M,g.left="right"):"right"===g.left&&(b-=I,T.left="left",b+=M,g.left="left"):"center"===T.left&&(b+M>h[2]&&"left"===g.left?(b-=M,g.left="right"):b<h[0]&&"right"===g.left&&(b+=M,g.left="left"))),("element"===f||"both"===f)&&(j<h[1]&&"bottom"===g.top&&(j+=v,g.top="top"),j+v>h[3]&&"top"===g.top&&(j-=v,g.top="bottom")),("element"===d||"both"===d)&&(b<h[0]&&"right"===g.left&&(b+=M,g.left="left"),b+M>h[2]&&"left"===g.left&&(b-=M,g.left="right")),"string"==typeof C?C=function(){var t,e,n,r;for(n=C.split(","),r=[],e=0,t=n.length;t>e;e++)S=n[e],r.push(S.trim());return r}():C===!0&&(C=["top","left","right","bottom"]),C||(C=[]),E=[],y=[],j<h[1]&&(u.call(C,"top")>=0?(j=h[1],E.push("top")):y.push("top")),j+v>h[3]&&(u.call(C,"bottom")>=0?(j=h[3]-v,E.push("bottom")):y.push("bottom")),b<h[0]&&(u.call(C,"left")>=0?(b=h[0],E.push("left")):y.push("left")),b+M>h[2]&&(u.call(C,"right")>=0?(b=h[2]-M,E.push("right")):y.push("right")),E.length)for(_=null!=(Q=this.options.pinnedClass)?Q:this.getClass("pinned"),s.push(_),$=0,z=E.length;z>$;$++)x=E[$],s.push(""+_+"-"+x);if(y.length)for(w=null!=(te=this.options.outOfBoundsClass)?te:this.getClass("out-of-bounds"),s.push(w),Y=0,q=y.length;q>Y;Y++)x=y[Y],s.push(""+w+"-"+x);(u.call(E,"left")>=0||u.call(E,"right")>=0)&&(g.left=T.left=!1),(u.call(E,"top")>=0||u.call(E,"bottom")>=0)&&(g.top=T.top=!1),(T.top!==N.top||T.left!==N.left||g.top!==this.attachment.top||g.left!==this.attachment.left)&&this.updateAttachClasses(g,T)}return n(function(){return c(ee.target,s,a),c(ee.element,s,a)}),{top:j,left:b}}})}.call(this),function(){var t,e,n,r;r=this.Tether.Utils,e=r.getBounds,n=r.updateClasses,t=r.defer,this.Tether.modules.push({position:function(r){var i,o,s,a,c,l,u,h,d,f,p,m,g,v,b,y,w,S,C,E,_,R,x,T,N,O=this;if(p=r.top,l=r.left,_=this.cache("element-bounds",function(){return e(O.element)}),c=_.height,m=_.width,f=this.getTargetBounds(),a=p+c,u=l+m,i=[],p<=f.bottom&&a>=f.top)for(R=["left","right"],g=0,w=R.length;w>g;g++)h=R[g],((x=f[h])===l||x===u)&&i.push(h);if(l<=f.right&&u>=f.left)for(T=["top","bottom"],v=0,S=T.length;S>v;v++)h=T[v],((N=f[h])===p||N===a)&&i.push(h);for(s=[],o=[],d=["left","top","right","bottom"],s.push(this.getClass("abutted")),b=0,C=d.length;C>b;b++)h=d[b],s.push(""+this.getClass("abutted")+"-"+h);for(i.length&&o.push(this.getClass("abutted")),y=0,E=i.length;E>y;y++)h=i[y],o.push(""+this.getClass("abutted")+"-"+h);return t(function(){return n(O.target,o,s),n(O.element,o,s)}),!0}})}.call(this),function(){this.Tether.modules.push({position:function(t){var e,n,r,i,o,s,a;return s=t.top,e=t.left,this.options.shift?(n=function(t){return"function"==typeof t?t.call(this,{top:s,left:e}):t},r=n(this.options.shift),"string"==typeof r?(r=r.split(" "),r[1]||(r[1]=r[0]),o=r[0],i=r[1],o=parseFloat(o,10),i=parseFloat(i,10)):(a=[r.top,r.left],o=a[0],i=a[1]),s+=o,e+=i,{top:s,left:e}):void 0}})}.call(this),this.Tether})},function(t,e,n){var r,i;(function(t){var o=o||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(t){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var e=t.document,n=function(){return t.URL||t.webkitURL||t},r=e.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in r,o=function(n){var r=e.createEvent("MouseEvents");r.initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(r)},s=t.webkitRequestFileSystem,a=t.requestFileSystem||s||t.mozRequestFileSystem,c=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},l="application/octet-stream",u=0,h=10,d=function(e){var r=function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()};t.chrome?r():setTimeout(r,h)},f=function(t,e,n){e=[].concat(e);for(var r=e.length;r--;){var i=t["on"+e[r]];if("function"==typeof i)try{i.call(t,n||t)}catch(o){c(o)}}},p=function(e,c){var h,p,m,g=this,v=e.type,b=!1,y=function(){f(g,"writestart progress write writeend".split(" "))},w=function(){if((b||!h)&&(h=n().createObjectURL(e)),p)p.location.href=h;else{var r=t.open(h,"_blank");void 0==r&&"undefined"!=typeof safari&&(t.location.href=h)}g.readyState=g.DONE,y(),d(h)},S=function(t){return function(){return g.readyState!==g.DONE?t.apply(this,arguments):void 0}},C={create:!0,exclusive:!1};return g.readyState=g.INIT,c||(c="download"),i?(h=n().createObjectURL(e),r.href=h,r.download=c,o(r),g.readyState=g.DONE,y(),void d(h)):(t.chrome&&v&&v!==l&&(m=e.slice||e.webkitSlice,e=m.call(e,0,e.size,l),b=!0),s&&"download"!==c&&(c+=".download"),(v===l||s)&&(p=t),a?(u+=e.size,void a(t.TEMPORARY,u,S(function(t){t.root.getDirectory("saved",C,S(function(t){var n=function(){t.getFile(c,C,S(function(t){t.createWriter(S(function(n){n.onwriteend=function(e){p.location.href=t.toURL(),g.readyState=g.DONE,f(g,"writeend",e),d(t)},n.onerror=function(){var t=n.error;t.code!==t.ABORT_ERR&&w()},"writestart progress write abort".split(" ").forEach(function(t){n["on"+t]=g["on"+t]}),n.write(e),g.abort=function(){n.abort(),g.readyState=g.DONE},g.readyState=g.WRITING}),w)}),w)};t.getFile(c,{create:!1},S(function(t){t.remove(),n()}),S(function(t){t.code===t.NOT_FOUND_ERR?n():w()}))}),w)}),w)):void w())},m=p.prototype,g=function(t,e){return new p(t,e)};return m.abort=function(){var t=this;t.readyState=t.DONE,f(t,"abort")},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,g}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof t&&null!==t?t.exports=o:null!==n(53)&&null!=n(54)&&(r=[],i=function(){return o}.apply(e,r),!(void 0!==i&&(t.exports=i)))}).call(e,n(55)(t))},function(t,e,n){"use strict";var r,i=n(47),o=Array.prototype.forEach,s=Object.create,a=Object.getPrototypeOf;r=function(t,e){var n=a(t);return i(n?r(n,e):e,t)},t.exports=function(){var t=s(null);return o.call(arguments,function(e){null!=e&&r(Object(e),t)}),t}},function(t){"use strict";t.exports=function(t){return"function"==typeof t}},function(t,e,n){"use strict";t.exports=n(49)()?Object.assign:n(50)},function(t,e,n){"use strict";t.exports=n(51)()?String.prototype.contains:n(52)},function(t){"use strict";t.exports=function(){var t,e=Object.assign;return"function"!=typeof e?!1:(t={foo:"raz"},e(t,{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},function(t,e,n){"use strict";var r=n(57),i=n(56),o=Math.max;t.exports=function(t,e){var n,s,a,c=o(arguments.length,2);for(t=Object(i(t)),a=function(r){try{t[r]=e[r]}catch(i){n||(n=i)}},s=1;c>s;++s)e=arguments[s],r(e).forEach(a);if(void 0!==n)throw n;return t}},function(t){"use strict";var e="razdwatrzy";t.exports=function(){return"function"!=typeof e.contains?!1:e.contains("dwa")===!0&&e.contains("foo")===!1}},function(t){"use strict";var e=String.prototype.indexOf;t.exports=function(t){return e.call(this,t,arguments[1])>-1}},function(t){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t){"use strict";t.exports=function(t){if(null==t)throw new TypeError("Cannot use null or undefined");return t}},function(t,e,n){"use strict";t.exports=n(58)()?Object.keys:n(59)},function(t){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},function(t){"use strict";var e=Object.keys;t.exports=function(t){return e(null==t?t:Object(t))}}]);